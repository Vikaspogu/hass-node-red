[
    {
        "id": "7f2efefbbceb30df",
        "type": "tab",
        "label": "Office Area",
        "disabled": false,
        "info": ""
    },
    {
        "id": "7f54fc151e2b8fe4",
        "type": "tab",
        "label": "Living Room",
        "disabled": false,
        "info": ""
    },
    {
        "id": "a0b0c69958ec912d",
        "type": "tab",
        "label": "Garage Door",
        "disabled": false,
        "info": ""
    },
    {
        "id": "04cb334222380c1b",
        "type": "tab",
        "label": "Thermostat",
        "disabled": false,
        "info": ""
    },
    {
        "id": "7a50c5242f5febf8",
        "type": "tab",
        "label": "Kitchen",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "774d9f8888f0a1fd",
        "type": "tab",
        "label": "Timed Schedule",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "d6ccf41005253901",
        "type": "server",
        "name": "Home Assistant",
        "version": 5,
        "addon": false,
        "rejectUnauthorizedCerts": true,
        "ha_boolean": "y|yes|true|on|home|open",
        "connectionDelay": true,
        "cacheJson": true,
        "heartbeat": false,
        "heartbeatInterval": "30",
        "areaSelector": "friendlyName",
        "deviceSelector": "friendlyName",
        "entitySelector": "friendlyName",
        "statusSeparator": "at: ",
        "statusYear": "hidden",
        "statusMonth": "short",
        "statusDay": "numeric",
        "statusHourCycle": "h23",
        "statusTimeFormat": "h:m",
        "enableGlobalContextStore": true
    },
    {
        "id": "dd6d6e8ac09404c5",
        "type": "discord-token",
        "name": "HomeBot"
    },
    {
        "id": "97b1659216df3b70",
        "type": "api-current-state",
        "z": "7f2efefbbceb30df",
        "name": "Is lights on?",
        "server": "d6ccf41005253901",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "light.office_ceiling_lights_group",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 550,
        "y": 60,
        "wires": [
            [],
            [
                "04c2addc63b8b520",
                "87bf4c9b86414da7"
            ]
        ]
    },
    {
        "id": "7714f0f2226a61ef",
        "type": "api-current-state",
        "z": "7f2efefbbceb30df",
        "name": "Is lights on?",
        "server": "d6ccf41005253901",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "light.office_ceiling_lights_group",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 330,
        "y": 180,
        "wires": [
            [
                "cd21c8e78ca0ea71"
            ],
            []
        ]
    },
    {
        "id": "04c2addc63b8b520",
        "type": "api-call-service",
        "z": "7f2efefbbceb30df",
        "name": "Office Lights On",
        "server": "d6ccf41005253901",
        "version": 5,
        "debugenabled": false,
        "domain": "light",
        "service": "turn_on",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "light.office_ceiling_lights_group"
        ],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 800,
        "y": 120,
        "wires": [
            []
        ]
    },
    {
        "id": "49f1a17de498d381",
        "type": "server-state-changed",
        "z": "7f2efefbbceb30df",
        "name": "Office Occupancy",
        "server": "d6ccf41005253901",
        "version": 4,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "binary_sensor.officemotionsensor_occupancy",
        "entityidfiltertype": "exact",
        "outputinitially": false,
        "state_type": "str",
        "haltifstate": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "outputs": 2,
        "output_only_on_state_change": true,
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 110,
        "y": 120,
        "wires": [
            [
                "467cbef8283c3d67"
            ],
            [
                "7714f0f2226a61ef"
            ]
        ]
    },
    {
        "id": "3e11ce62b36331cb",
        "type": "delay",
        "z": "7f2efefbbceb30df",
        "name": "",
        "pauseType": "delay",
        "timeout": "60",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 820,
        "y": 240,
        "wires": [
            [
                "a69b697c51e79cfd"
            ]
        ]
    },
    {
        "id": "a69b697c51e79cfd",
        "type": "api-current-state",
        "z": "7f2efefbbceb30df",
        "name": "Is occupied?",
        "server": "d6ccf41005253901",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "binary_sensor.officemotionsensor_occupancy",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 1010,
        "y": 240,
        "wires": [
            [],
            [
                "2a061426630480d5"
            ]
        ]
    },
    {
        "id": "a40149d814a3d23a",
        "type": "server-state-changed",
        "z": "7f2efefbbceb30df",
        "name": "Occupancy Off for 5min",
        "server": "d6ccf41005253901",
        "version": 4,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "binary_sensor.officemotionsensor_occupancy",
        "entityidfiltertype": "exact",
        "outputinitially": false,
        "state_type": "str",
        "haltifstate": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "outputs": 2,
        "output_only_on_state_change": true,
        "for": "5",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 120,
        "y": 200,
        "wires": [
            [
                "7714f0f2226a61ef"
            ],
            []
        ]
    },
    {
        "id": "2a061426630480d5",
        "type": "api-call-service",
        "z": "7f2efefbbceb30df",
        "name": "Office Lights Off",
        "server": "d6ccf41005253901",
        "version": 5,
        "debugenabled": false,
        "domain": "light",
        "service": "turn_off",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "light.office_ceiling_lights_group"
        ],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1200,
        "y": 240,
        "wires": [
            []
        ]
    },
    {
        "id": "67dacfe3e5066af4",
        "type": "api-current-state",
        "z": "7f2efefbbceb30df",
        "name": "BLE presence >  0.5",
        "server": "d6ccf41005253901",
        "version": 3,
        "outputs": 2,
        "halt_if": "0.5",
        "halt_if_type": "num",
        "halt_if_compare": "gt",
        "entity_id": "sensor.presence_distance",
        "state_type": "num",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 730,
        "y": 180,
        "wires": [
            [
                "3e11ce62b36331cb"
            ],
            [
                "1ffe15ea60c237ca"
            ]
        ]
    },
    {
        "id": "78c952e710432c1a",
        "type": "api-current-state",
        "z": "7f2efefbbceb30df",
        "name": "Is lights on?",
        "server": "d6ccf41005253901",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "light.landing_lights_group",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 310,
        "y": 440,
        "wires": [
            [],
            [
                "d3e59293828a82d3"
            ]
        ]
    },
    {
        "id": "1ae784e765fa1feb",
        "type": "api-current-state",
        "z": "7f2efefbbceb30df",
        "name": "Is lights on?",
        "server": "d6ccf41005253901",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "light.landing_lights_group",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 310,
        "y": 520,
        "wires": [
            [
                "528912d120b3f725"
            ],
            []
        ]
    },
    {
        "id": "d3e59293828a82d3",
        "type": "api-call-service",
        "z": "7f2efefbbceb30df",
        "name": "Landing Lights On",
        "server": "d6ccf41005253901",
        "version": 5,
        "debugenabled": false,
        "domain": "light",
        "service": "turn_on",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "light.landing_lights_group"
        ],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 530,
        "y": 440,
        "wires": [
            [
                "2ecbbc716fc10ef4"
            ]
        ]
    },
    {
        "id": "72b9c237df2ba713",
        "type": "server-state-changed",
        "z": "7f2efefbbceb30df",
        "name": "Landing Occupancy",
        "server": "d6ccf41005253901",
        "version": 4,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "binary_sensor.landingmotionsensor_occupancy",
        "entityidfiltertype": "exact",
        "outputinitially": false,
        "state_type": "str",
        "haltifstate": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "outputs": 2,
        "output_only_on_state_change": true,
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 110,
        "y": 480,
        "wires": [
            [
                "78c952e710432c1a"
            ],
            [
                "1ae784e765fa1feb"
            ]
        ]
    },
    {
        "id": "9b4deaf4994f7561",
        "type": "server-state-changed",
        "z": "7f2efefbbceb30df",
        "name": "Landing sensor off for 5min",
        "server": "d6ccf41005253901",
        "version": 4,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "binary_sensor.landingmotionsensor_occupancy",
        "entityidfiltertype": "exact",
        "outputinitially": false,
        "state_type": "str",
        "haltifstate": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "outputs": 2,
        "output_only_on_state_change": true,
        "for": "5",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 140,
        "y": 380,
        "wires": [
            [
                "6e5192ee54432470"
            ],
            []
        ]
    },
    {
        "id": "05cf914c948b7431",
        "type": "api-call-service",
        "z": "7f2efefbbceb30df",
        "name": "Landing Lights Off",
        "server": "d6ccf41005253901",
        "version": 5,
        "debugenabled": false,
        "domain": "light",
        "service": "turn_off",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "light.landing_lights_group"
        ],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 590,
        "y": 380,
        "wires": [
            []
        ]
    },
    {
        "id": "6e5192ee54432470",
        "type": "api-current-state",
        "z": "7f2efefbbceb30df",
        "name": "Is lights on?",
        "server": "d6ccf41005253901",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "light.landing_lights_group",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 370,
        "y": 380,
        "wires": [
            [
                "05cf914c948b7431"
            ],
            []
        ]
    },
    {
        "id": "528912d120b3f725",
        "type": "api-call-service",
        "z": "7f2efefbbceb30df",
        "name": "Landing Lights Off",
        "server": "d6ccf41005253901",
        "version": 5,
        "debugenabled": false,
        "domain": "light",
        "service": "turn_off",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "light.landing_lights_group"
        ],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 830,
        "y": 520,
        "wires": [
            []
        ]
    },
    {
        "id": "2ecbbc716fc10ef4",
        "type": "delay",
        "z": "7f2efefbbceb30df",
        "name": "",
        "pauseType": "delay",
        "timeout": "15",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 720,
        "y": 440,
        "wires": [
            [
                "528912d120b3f725"
            ]
        ]
    },
    {
        "id": "cd21c8e78ca0ea71",
        "type": "api-current-state",
        "z": "7f2efefbbceb30df",
        "name": "Is Pixel 7 Home?",
        "server": "d6ccf41005253901",
        "version": 3,
        "outputs": 2,
        "halt_if": "home",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "device_tracker.pixel_7_tracker",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 530,
        "y": 200,
        "wires": [
            [
                "67dacfe3e5066af4"
            ],
            [
                "3e11ce62b36331cb"
            ]
        ]
    },
    {
        "id": "1ffe15ea60c237ca",
        "type": "api-current-state",
        "z": "7f2efefbbceb30df",
        "name": "Charging True",
        "server": "d6ccf41005253901",
        "version": 3,
        "outputs": 2,
        "halt_if": "wireless",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "sensor.vpogu_pixel_7_charger_type",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 980,
        "y": 180,
        "wires": [
            [
                "3e11ce62b36331cb"
            ],
            []
        ]
    },
    {
        "id": "87bf4c9b86414da7",
        "type": "api-call-service",
        "z": "7f2efefbbceb30df",
        "name": "Aquarium LED On",
        "server": "d6ccf41005253901",
        "version": 5,
        "debugenabled": false,
        "domain": "switch",
        "service": "turn_on",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "switch.aquarium_lights"
        ],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 790,
        "y": 60,
        "wires": [
            []
        ]
    },
    {
        "id": "a1dc681847ce5aca",
        "type": "api-current-state",
        "z": "7f2efefbbceb30df",
        "name": "Is Aquarium LED lights on?",
        "server": "d6ccf41005253901",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "switch.aquarium_lights",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 400,
        "y": 280,
        "wires": [
            [
                "0b0b1fd5f59e8f13"
            ],
            []
        ]
    },
    {
        "id": "0b0b1fd5f59e8f13",
        "type": "api-call-service",
        "z": "7f2efefbbceb30df",
        "name": "Aquarium LED Off",
        "server": "d6ccf41005253901",
        "version": 5,
        "debugenabled": false,
        "domain": "switch",
        "service": "turn_off",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "switch.aquarium_lights"
        ],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 650,
        "y": 280,
        "wires": [
            []
        ]
    },
    {
        "id": "798279715ed727c1",
        "type": "server-state-changed",
        "z": "7f2efefbbceb30df",
        "name": "Occupancy Off for 2min",
        "server": "d6ccf41005253901",
        "version": 4,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "binary_sensor.officemotionsensor_occupancy",
        "entityidfiltertype": "exact",
        "outputinitially": false,
        "state_type": "str",
        "haltifstate": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "outputs": 2,
        "output_only_on_state_change": true,
        "for": "2",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 120,
        "y": 280,
        "wires": [
            [
                "a1dc681847ce5aca"
            ],
            []
        ]
    },
    {
        "id": "467cbef8283c3d67",
        "type": "api-current-state",
        "z": "7f2efefbbceb30df",
        "name": "Motion enabled?",
        "server": "d6ccf41005253901",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.office_room_motion",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 330,
        "y": 60,
        "wires": [
            [
                "97b1659216df3b70"
            ],
            []
        ]
    },
    {
        "id": "f7cbb6cf7003d9a6",
        "type": "server-state-changed",
        "z": "7f54fc151e2b8fe4",
        "name": "Living room motions",
        "server": "d6ccf41005253901",
        "version": 4,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": [
            "binary_sensor.livingroommotion_2_occupancy",
            "binary_sensor.livingroommotion_occupancy"
        ],
        "entityidfiltertype": "list",
        "outputinitially": false,
        "state_type": "str",
        "haltifstate": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "outputs": 2,
        "output_only_on_state_change": true,
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 110,
        "y": 200,
        "wires": [
            [
                "252a91796ae2681b"
            ],
            [
                "0e4be3ccb7e3d349"
            ]
        ]
    },
    {
        "id": "252a91796ae2681b",
        "type": "api-current-state",
        "z": "7f54fc151e2b8fe4",
        "name": "Is lights on?",
        "server": "d6ccf41005253901",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "light.living_room_dining_group",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 350,
        "y": 160,
        "wires": [
            [],
            [
                "cfdc77ac507786b2"
            ]
        ]
    },
    {
        "id": "0e4be3ccb7e3d349",
        "type": "api-current-state",
        "z": "7f54fc151e2b8fe4",
        "name": "Is lights on?",
        "server": "d6ccf41005253901",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "light.living_room_dining_group",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 330,
        "y": 240,
        "wires": [
            [
                "935c15097c78ee73"
            ],
            []
        ]
    },
    {
        "id": "cc49677e8e29d8a9",
        "type": "api-call-service",
        "z": "7f54fc151e2b8fe4",
        "name": "Lights On",
        "server": "d6ccf41005253901",
        "version": 5,
        "debugenabled": false,
        "domain": "light",
        "service": "turn_on",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "light.living_room_dining_group"
        ],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 680,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "935c15097c78ee73",
        "type": "api-current-state",
        "z": "7f54fc151e2b8fe4",
        "name": "Is TV On",
        "server": "d6ccf41005253901",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "entity_id": "media_player.sony_xbr_65x900f",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 500,
        "y": 240,
        "wires": [
            [],
            [
                "93ce346e3eb064ad"
            ]
        ]
    },
    {
        "id": "7a55c1597ace4610",
        "type": "delay",
        "z": "7f54fc151e2b8fe4",
        "name": "",
        "pauseType": "delay",
        "timeout": "90",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 880,
        "y": 240,
        "wires": [
            [
                "4d39cebd2b5c260a"
            ]
        ]
    },
    {
        "id": "3d031c292d2ed8c4",
        "type": "api-call-service",
        "z": "7f54fc151e2b8fe4",
        "name": "Lights Off",
        "server": "d6ccf41005253901",
        "version": 5,
        "debugenabled": false,
        "domain": "light",
        "service": "turn_off",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "light.living_room_dining_group"
        ],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1040,
        "y": 320,
        "wires": [
            []
        ]
    },
    {
        "id": "4d39cebd2b5c260a",
        "type": "api-current-state",
        "z": "7f54fc151e2b8fe4",
        "name": "Is motion 1 occupied?",
        "server": "d6ccf41005253901",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "binary_sensor.livingroommotion_occupancy",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 1080,
        "y": 240,
        "wires": [
            [],
            [
                "4b4d37bb0e9d3e27"
            ]
        ]
    },
    {
        "id": "46c2c54a4070c669",
        "type": "server-state-changed",
        "z": "7f54fc151e2b8fe4",
        "name": "Motions off for 10min",
        "server": "d6ccf41005253901",
        "version": 4,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": [
            "binary_sensor.livingroommotion_2_occupancy",
            "binary_sensor.livingroommotion_occupancy"
        ],
        "entityidfiltertype": "list",
        "outputinitially": false,
        "state_type": "str",
        "haltifstate": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "outputs": 2,
        "output_only_on_state_change": true,
        "for": "10",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 120,
        "y": 280,
        "wires": [
            [
                "0e4be3ccb7e3d349"
            ],
            []
        ]
    },
    {
        "id": "cfdc77ac507786b2",
        "type": "api-current-state",
        "z": "7f54fc151e2b8fe4",
        "name": "Is TV On",
        "server": "d6ccf41005253901",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "entity_id": "media_player.sony_xbr_65x900f",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 520,
        "y": 160,
        "wires": [
            [],
            [
                "cc49677e8e29d8a9"
            ]
        ]
    },
    {
        "id": "6fdf26baf073bd35",
        "type": "api-call-service",
        "z": "7f54fc151e2b8fe4",
        "name": "Led Lights Off",
        "server": "d6ccf41005253901",
        "version": 5,
        "debugenabled": false,
        "domain": "light",
        "service": "turn_off",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "light.tv_h6199"
        ],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 440,
        "y": 440,
        "wires": [
            []
        ]
    },
    {
        "id": "3c3670a599ac377d",
        "type": "server-state-changed",
        "z": "7f54fc151e2b8fe4",
        "name": "TV On",
        "server": "d6ccf41005253901",
        "version": 4,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "media_player.sony_xbr_65x900f",
        "entityidfiltertype": "exact",
        "outputinitially": false,
        "state_type": "str",
        "haltifstate": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "outputs": 2,
        "output_only_on_state_change": true,
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 70,
        "y": 400,
        "wires": [
            [
                "bed19084e9ebb539"
            ],
            [
                "4b5f215aa128cb2a"
            ]
        ]
    },
    {
        "id": "bed19084e9ebb539",
        "type": "api-call-service",
        "z": "7f54fc151e2b8fe4",
        "name": "Lights and Led TV On",
        "server": "d6ccf41005253901",
        "version": 5,
        "debugenabled": false,
        "domain": "light",
        "service": "turn_on",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "light.living_room_dining_group",
            "light.tv_h6199"
        ],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 300,
        "y": 360,
        "wires": [
            []
        ]
    },
    {
        "id": "4b5f215aa128cb2a",
        "type": "api-current-state",
        "z": "7f54fc151e2b8fe4",
        "name": "LED On?",
        "server": "d6ccf41005253901",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "light.tv_h6199",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 260,
        "y": 440,
        "wires": [
            [
                "6fdf26baf073bd35"
            ],
            []
        ]
    },
    {
        "id": "93ce346e3eb064ad",
        "type": "api-current-state",
        "z": "7f54fc151e2b8fe4",
        "name": "Keep lights on",
        "server": "d6ccf41005253901",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.living_room_override",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 700,
        "y": 240,
        "wires": [
            [],
            [
                "7a55c1597ace4610"
            ]
        ]
    },
    {
        "id": "4b4d37bb0e9d3e27",
        "type": "api-current-state",
        "z": "7f54fc151e2b8fe4",
        "name": "Is motion 2 occupied?",
        "server": "d6ccf41005253901",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "binary_sensor.livingroommotion_2_occupancy",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 840,
        "y": 320,
        "wires": [
            [],
            [
                "3d031c292d2ed8c4"
            ]
        ]
    },
    {
        "id": "77c997a7bee5cf9b",
        "type": "inject",
        "z": "a0b0c69958ec912d",
        "name": "At 07:00PM",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "00 19 * * *",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 140,
        "y": 340,
        "wires": [
            [
                "b1c233bbc1cdaa85"
            ]
        ]
    },
    {
        "id": "2da8d39ff9415d6d",
        "type": "api-call-service",
        "z": "a0b0c69958ec912d",
        "name": "Notify unplugged",
        "server": "d6ccf41005253901",
        "version": 5,
        "debugenabled": true,
        "domain": "notify",
        "service": "mobile_app_vpogu_pixel_7",
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "data": "{\"message\":\" Plug in your car \",\"title\":\"Home Automation\"}",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 870,
        "y": 340,
        "wires": [
            []
        ]
    },
    {
        "id": "e79c2c5c1563a2f7",
        "type": "api-current-state",
        "z": "a0b0c69958ec912d",
        "name": "Is not plugged in",
        "server": "d6ccf41005253901",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "binary_sensor.tesla_plugged_in",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 610,
        "y": 340,
        "wires": [
            [
                "2da8d39ff9415d6d"
            ],
            []
        ]
    },
    {
        "id": "b1c233bbc1cdaa85",
        "type": "api-current-state",
        "z": "a0b0c69958ec912d",
        "name": "Is Tesla home?",
        "server": "d6ccf41005253901",
        "version": 3,
        "outputs": 2,
        "halt_if": "home",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "device_tracker.tesla_location",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 360,
        "y": 340,
        "wires": [
            [
                "e79c2c5c1563a2f7"
            ],
            []
        ]
    },
    {
        "id": "c32a13df93c467ca",
        "type": "poll-state",
        "z": "a0b0c69958ec912d",
        "name": "Garage door",
        "server": "d6ccf41005253901",
        "version": 2,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "updateinterval": "20",
        "updateIntervalType": "num",
        "updateIntervalUnits": "minutes",
        "outputinitially": false,
        "outputonchanged": false,
        "entity_id": "cover.garage_door",
        "state_type": "str",
        "halt_if": "open",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "outputs": 2,
        "x": 110,
        "y": 440,
        "wires": [
            [
                "5f929597a184f27f"
            ],
            []
        ]
    },
    {
        "id": "5f929597a184f27f",
        "type": "time-range-switch",
        "z": "a0b0c69958ec912d",
        "name": "From 10PM-04:30AM",
        "lat": "44.085252110053204",
        "lon": "-92.49032161185444",
        "startTime": "22:00",
        "endTime": "04:30",
        "startOffset": 0,
        "endOffset": 0,
        "x": 320,
        "y": 440,
        "wires": [
            [
                "b3302ae588789137"
            ],
            []
        ]
    },
    {
        "id": "8f9805039db61ba3",
        "type": "api-call-service",
        "z": "a0b0c69958ec912d",
        "name": "Close garage door",
        "server": "d6ccf41005253901",
        "version": 5,
        "debugenabled": false,
        "domain": "cover",
        "service": "close_cover",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "cover.garage_door"
        ],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1050,
        "y": 440,
        "wires": [
            [
                "b584f6db1742949d"
            ]
        ]
    },
    {
        "id": "b584f6db1742949d",
        "type": "api-call-service",
        "z": "a0b0c69958ec912d",
        "name": "Notify closed",
        "server": "d6ccf41005253901",
        "version": 5,
        "debugenabled": true,
        "domain": "notify",
        "service": "mobile_app_vpogu_pixel_7",
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "data": "{\"message\":\" The garage door has been closed\",\"title\":\"Home Automation\"}",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1070,
        "y": 540,
        "wires": [
            []
        ]
    },
    {
        "id": "b3302ae588789137",
        "type": "stoptimer",
        "z": "a0b0c69958ec912d",
        "duration": "15",
        "units": "Minute",
        "payloadtype": "num",
        "payloadval": "0",
        "name": "",
        "x": 560,
        "y": 440,
        "wires": [
            [
                "12f1f0f7b74d1cab"
            ],
            []
        ]
    },
    {
        "id": "12f1f0f7b74d1cab",
        "type": "api-current-state",
        "z": "a0b0c69958ec912d",
        "name": "Is garage door still open?",
        "server": "d6ccf41005253901",
        "version": 3,
        "outputs": 2,
        "halt_if": "open",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "cover.garage_door",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 810,
        "y": 440,
        "wires": [
            [
                "8f9805039db61ba3"
            ],
            []
        ]
    },
    {
        "id": "3f72b2a709752b40",
        "type": "server-state-changed",
        "z": "04cb334222380c1b",
        "name": "Nest Thermostat",
        "server": "d6ccf41005253901",
        "version": 4,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "climate.living_room",
        "entityidfiltertype": "exact",
        "outputinitially": false,
        "state_type": "str",
        "haltifstate": "unavailable",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "outputs": 2,
        "output_only_on_state_change": true,
        "for": "5",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 100,
        "y": 320,
        "wires": [
            [
                "1750ef3aa965ea17"
            ],
            []
        ]
    },
    {
        "id": "1750ef3aa965ea17",
        "type": "api-call-service",
        "z": "04cb334222380c1b",
        "name": "Notify offline",
        "server": "d6ccf41005253901",
        "version": 5,
        "debugenabled": true,
        "domain": "notify",
        "service": "mobile_app_vpogu_pixel_7",
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "data": "{\"message\":\"Nest Thermostat is Offline.\",\"title\":\"Home Automation\"}",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 350,
        "y": 320,
        "wires": [
            []
        ]
    },
    {
        "id": "21c2ee4fbf8acd04",
        "type": "api-call-service",
        "z": "04cb334222380c1b",
        "name": "Turn off thermostat",
        "server": "d6ccf41005253901",
        "version": 5,
        "debugenabled": false,
        "domain": "climate",
        "service": "turn_off",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "climate.living_room"
        ],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 690,
        "y": 400,
        "wires": [
            []
        ]
    },
    {
        "id": "742000ec5e482072",
        "type": "api-current-state",
        "z": "04cb334222380c1b",
        "name": "Weather",
        "server": "d6ccf41005253901",
        "version": 3,
        "outputs": 1,
        "halt_if": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "weather.home",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 280,
        "y": 400,
        "wires": [
            [
                "d853fd0ceb785d3a"
            ]
        ]
    },
    {
        "id": "d853fd0ceb785d3a",
        "type": "switch",
        "z": "04cb334222380c1b",
        "name": "Temp less than 50",
        "property": "data.attributes.temperature",
        "propertyType": "msg",
        "rules": [
            {
                "t": "lt",
                "v": "50",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 470,
        "y": 400,
        "wires": [
            [
                "21c2ee4fbf8acd04"
            ]
        ]
    },
    {
        "id": "16eb69130b329882",
        "type": "server-state-changed",
        "z": "04cb334222380c1b",
        "name": "Bed temp < 66",
        "server": "d6ccf41005253901",
        "version": 4,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "sensor.bedroom_ble_temperature",
        "entityidfiltertype": "exact",
        "outputinitially": false,
        "state_type": "str",
        "haltifstate": "66",
        "halt_if_type": "num",
        "halt_if_compare": "lt",
        "outputs": 2,
        "output_only_on_state_change": true,
        "for": "5",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": true,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 100,
        "y": 400,
        "wires": [
            [
                "742000ec5e482072"
            ],
            []
        ]
    },
    {
        "id": "8ed16c5f2fa4cb47",
        "type": "api-call-service",
        "z": "04cb334222380c1b",
        "name": "Turn cool on",
        "server": "d6ccf41005253901",
        "version": 5,
        "debugenabled": true,
        "domain": "climate",
        "service": "set_hvac_mode",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "climate.living_room"
        ],
        "data": "{\"hvac_mode\":\"cool\"}",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 490,
        "y": 480,
        "wires": [
            [
                "c1422930f8727295"
            ]
        ]
    },
    {
        "id": "c1422930f8727295",
        "type": "api-call-service",
        "z": "04cb334222380c1b",
        "name": "Set temp to 70",
        "server": "d6ccf41005253901",
        "version": 5,
        "debugenabled": false,
        "domain": "climate",
        "service": "set_temperature",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "climate.living_room"
        ],
        "data": "{\"temperature\":\"70\"}",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": " Thermostat set to cool 70",
                "valueType": "str"
            }
        ],
        "queue": "none",
        "x": 700,
        "y": 480,
        "wires": [
            [
                "578ab8394c79cb0b"
            ]
        ]
    },
    {
        "id": "164d4f2ce5cda3e4",
        "type": "api-call-service",
        "z": "04cb334222380c1b",
        "name": "preset_modes to eco",
        "server": "d6ccf41005253901",
        "version": 5,
        "debugenabled": false,
        "domain": "climate",
        "service": "set_preset_mode",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "climate.living_room"
        ],
        "data": "{\"preset_mode\":\"eco\"}",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": " Thermostat set to eco mode",
                "valueType": "str"
            }
        ],
        "queue": "none",
        "x": 520,
        "y": 640,
        "wires": [
            [
                "578ab8394c79cb0b"
            ]
        ]
    },
    {
        "id": "24ee8387ed4de5c0",
        "type": "api-current-state",
        "z": "04cb334222380c1b",
        "name": "Eco mode",
        "server": "d6ccf41005253901",
        "version": 3,
        "outputs": 2,
        "halt_if": "none",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "sensor.thermostat_eco_state",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 310,
        "y": 640,
        "wires": [
            [
                "164d4f2ce5cda3e4"
            ],
            []
        ]
    },
    {
        "id": "7e60f306d6436c34",
        "type": "server-state-changed",
        "z": "04cb334222380c1b",
        "name": "Bed temp > 75",
        "server": "d6ccf41005253901",
        "version": 4,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "sensor.bedroom_temperature",
        "entityidfiltertype": "exact",
        "outputinitially": false,
        "state_type": "str",
        "haltifstate": "75",
        "halt_if_type": "num",
        "halt_if_compare": "gt",
        "outputs": 2,
        "output_only_on_state_change": true,
        "for": "15",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": true,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 100,
        "y": 480,
        "wires": [
            [
                "8ed16c5f2fa4cb47"
            ],
            []
        ]
    },
    {
        "id": "79688895979d3a7b",
        "type": "server-state-changed",
        "z": "04cb334222380c1b",
        "name": "Bed temp <= 74",
        "server": "d6ccf41005253901",
        "version": 4,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "sensor.bedroom_temperature",
        "entityidfiltertype": "exact",
        "outputinitially": false,
        "state_type": "str",
        "haltifstate": "74",
        "halt_if_type": "num",
        "halt_if_compare": "lte",
        "outputs": 2,
        "output_only_on_state_change": true,
        "for": "10",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": true,
        "ignorePrevStateUnknown": true,
        "ignorePrevStateUnavailable": true,
        "ignoreCurrentStateUnknown": true,
        "ignoreCurrentStateUnavailable": true,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 100,
        "y": 640,
        "wires": [
            [
                "24ee8387ed4de5c0"
            ],
            []
        ]
    },
    {
        "id": "d13d0beed4d6aeb4",
        "type": "poll-state",
        "z": "04cb334222380c1b",
        "name": "Check bedroom temp",
        "server": "d6ccf41005253901",
        "version": 2,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "updateinterval": "1",
        "updateIntervalType": "num",
        "updateIntervalUnits": "hours",
        "outputinitially": false,
        "outputonchanged": false,
        "entity_id": "sensor.bedroom_temperature",
        "state_type": "str",
        "halt_if": "75",
        "halt_if_type": "num",
        "halt_if_compare": "gt",
        "outputs": 2,
        "x": 120,
        "y": 560,
        "wires": [
            [
                "ac795565c935163a"
            ],
            []
        ]
    },
    {
        "id": "ac795565c935163a",
        "type": "api-current-state",
        "z": "04cb334222380c1b",
        "name": "Preset mode \"none\"",
        "server": "d6ccf41005253901",
        "version": 3,
        "outputs": 2,
        "halt_if": "{\"preset_mode\":\"none\"}",
        "halt_if_type": "jsonata",
        "halt_if_compare": "is",
        "entity_id": "climate.living_room",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 380,
        "y": 560,
        "wires": [
            [
                "8ed16c5f2fa4cb47"
            ],
            []
        ]
    },
    {
        "id": "578ab8394c79cb0b",
        "type": "discord-send-messages",
        "z": "04cb334222380c1b",
        "name": "Send Discord Message",
        "channel": "k3s",
        "token": "dd6d6e8ac09404c5",
        "x": 850,
        "y": 640,
        "wires": []
    },
    {
        "id": "fea9baa7e602d744",
        "type": "api-current-state",
        "z": "7a50c5242f5febf8",
        "name": "Is lights on?",
        "server": "d6ccf41005253901",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "light.kitchen_lights_group",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 310,
        "y": 280,
        "wires": [
            [],
            [
                "63faadd18f0b3337"
            ]
        ]
    },
    {
        "id": "545f254f96f3c8b4",
        "type": "api-current-state",
        "z": "7a50c5242f5febf8",
        "name": "Is lights on?",
        "server": "d6ccf41005253901",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "light.kitchen_lights_group",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 310,
        "y": 360,
        "wires": [
            [
                "9422c6123ac04f1c"
            ],
            []
        ]
    },
    {
        "id": "0c213032fc9328e6",
        "type": "api-call-service",
        "z": "7a50c5242f5febf8",
        "name": "Kitchen Lights Off",
        "server": "d6ccf41005253901",
        "version": 5,
        "debugenabled": false,
        "domain": "light",
        "service": "turn_off",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "light.kitchen_lights_group"
        ],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 870,
        "y": 360,
        "wires": [
            []
        ]
    },
    {
        "id": "63faadd18f0b3337",
        "type": "api-call-service",
        "z": "7a50c5242f5febf8",
        "name": "Kitchen Lights On",
        "server": "d6ccf41005253901",
        "version": 5,
        "debugenabled": false,
        "domain": "light",
        "service": "turn_on",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "light.kitchen_lights_group"
        ],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 510,
        "y": 280,
        "wires": [
            []
        ]
    },
    {
        "id": "d2eae75727d9c9e4",
        "type": "server-state-changed",
        "z": "7a50c5242f5febf8",
        "name": "Kitchen Occupancy",
        "server": "d6ccf41005253901",
        "version": 4,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "binary_sensor.kitchenmotionsensor_occupancy",
        "entityidfiltertype": "exact",
        "outputinitially": false,
        "state_type": "str",
        "haltifstate": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "outputs": 2,
        "output_only_on_state_change": true,
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 110,
        "y": 320,
        "wires": [
            [
                "fea9baa7e602d744"
            ],
            [
                "545f254f96f3c8b4"
            ]
        ]
    },
    {
        "id": "9422c6123ac04f1c",
        "type": "delay",
        "z": "7a50c5242f5febf8",
        "name": "",
        "pauseType": "delay",
        "timeout": "2",
        "timeoutUnits": "minutes",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 480,
        "y": 360,
        "wires": [
            [
                "7955afe07ad2083c"
            ]
        ]
    },
    {
        "id": "7955afe07ad2083c",
        "type": "api-current-state",
        "z": "7a50c5242f5febf8",
        "name": "Is occupied?",
        "server": "d6ccf41005253901",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "binary_sensor.kitchenmotionsensor_occupancy",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 650,
        "y": 360,
        "wires": [
            [],
            [
                "0c213032fc9328e6"
            ]
        ]
    },
    {
        "id": "dba4d0f67923a764",
        "type": "server-state-changed",
        "z": "7a50c5242f5febf8",
        "name": "Occupancy Off for 5min",
        "server": "d6ccf41005253901",
        "version": 4,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "binary_sensor.kitchenmotionsensor_occupancy",
        "entityidfiltertype": "exact",
        "outputinitially": false,
        "state_type": "str",
        "haltifstate": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "outputs": 2,
        "output_only_on_state_change": true,
        "for": "5",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 120,
        "y": 180,
        "wires": [
            [
                "8fb8f9a54beda089"
            ],
            []
        ]
    },
    {
        "id": "9dade59e99620c4d",
        "type": "api-call-service",
        "z": "7a50c5242f5febf8",
        "name": "Kitchen Lights Off",
        "server": "d6ccf41005253901",
        "version": 5,
        "debugenabled": false,
        "domain": "light",
        "service": "turn_off",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "light.kitchen_lights_group"
        ],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 530,
        "y": 180,
        "wires": [
            []
        ]
    },
    {
        "id": "8fb8f9a54beda089",
        "type": "api-current-state",
        "z": "7a50c5242f5febf8",
        "name": "Is lights on?",
        "server": "d6ccf41005253901",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "light.kitchen_lights_group",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 330,
        "y": 180,
        "wires": [
            [
                "9dade59e99620c4d"
            ],
            []
        ]
    },
    {
        "id": "a3e3c13a572af51e",
        "type": "api-call-service",
        "z": "774d9f8888f0a1fd",
        "name": "Office purifier on",
        "server": "d6ccf41005253901",
        "version": 5,
        "debugenabled": false,
        "domain": "switch",
        "service": "turn_on",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "switch.office_purifier"
        ],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 590,
        "y": 680,
        "wires": [
            []
        ]
    },
    {
        "id": "e4f7cbee19046f8d",
        "type": "inject",
        "z": "774d9f8888f0a1fd",
        "name": "Weekdays at 4PM",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "00 16 * * 1,2,3,4,5",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 130,
        "y": 740,
        "wires": [
            [
                "a665687dd30e29f0"
            ]
        ]
    },
    {
        "id": "2f11f564708ba5ff",
        "type": "api-call-service",
        "z": "774d9f8888f0a1fd",
        "name": "Office purifier off",
        "server": "d6ccf41005253901",
        "version": 5,
        "debugenabled": false,
        "domain": "switch",
        "service": "turn_off",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "switch.office_purifier"
        ],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 590,
        "y": 740,
        "wires": [
            []
        ]
    },
    {
        "id": "a665687dd30e29f0",
        "type": "api-current-state",
        "z": "774d9f8888f0a1fd",
        "name": "On vacation?",
        "server": "d6ccf41005253901",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.on_vacation",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 360,
        "y": 740,
        "wires": [
            [],
            [
                "2f11f564708ba5ff",
                "6c21aaa3a47ae81f"
            ]
        ]
    },
    {
        "id": "d38157b79186dae5",
        "type": "api-current-state",
        "z": "774d9f8888f0a1fd",
        "name": "On vacation?",
        "server": "d6ccf41005253901",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.on_vacation",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 350,
        "y": 540,
        "wires": [
            [],
            [
                "25fc04121befd5ba",
                "f3b135f5e173a097",
                "19dee6a4011f787c",
                "e619f42bbf5a10bc",
                "415ea913941c048d"
            ]
        ]
    },
    {
        "id": "701083c51e20001b",
        "type": "inject",
        "z": "774d9f8888f0a1fd",
        "name": "Everyday at 4AM",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "00 04 * * *",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 130,
        "y": 80,
        "wires": [
            [
                "bb8d7bd7e79c0114",
                "5072e84e714350ee"
            ]
        ]
    },
    {
        "id": "bb8d7bd7e79c0114",
        "type": "api-call-service",
        "z": "774d9f8888f0a1fd",
        "name": "Turn on circadian lighting",
        "server": "d6ccf41005253901",
        "version": 5,
        "debugenabled": false,
        "domain": "switch",
        "service": "turn_on",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "switch.circadian_lighting_circadian_lighting"
        ],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 390,
        "y": 40,
        "wires": [
            []
        ]
    },
    {
        "id": "82a9ee7667b95059",
        "type": "inject",
        "z": "774d9f8888f0a1fd",
        "name": "Tue, Fri at 6:30AM",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "30 06 * * 2,5",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 140,
        "y": 200,
        "wires": [
            [
                "59b0e55856101e46"
            ]
        ]
    },
    {
        "id": "59b0e55856101e46",
        "type": "api-call-service",
        "z": "774d9f8888f0a1fd",
        "name": "Livingroom vacuum on",
        "server": "d6ccf41005253901",
        "version": 5,
        "debugenabled": false,
        "domain": "vacuum",
        "service": "turn_on",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "vacuum.robovac"
        ],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 380,
        "y": 200,
        "wires": [
            []
        ]
    },
    {
        "id": "415ea913941c048d",
        "type": "api-call-service",
        "z": "774d9f8888f0a1fd",
        "name": "Bedroom purifier off",
        "server": "d6ccf41005253901",
        "version": 5,
        "debugenabled": false,
        "domain": "switch",
        "service": "turn_off",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "switch.bedroom_purifier"
        ],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 580,
        "y": 360,
        "wires": [
            []
        ]
    },
    {
        "id": "e4ff6020183cf857",
        "type": "api-call-service",
        "z": "774d9f8888f0a1fd",
        "name": "Bedroom purifier on",
        "server": "d6ccf41005253901",
        "version": 5,
        "debugenabled": false,
        "domain": "switch",
        "service": "turn_on",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "switch.bedroom_purifier"
        ],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 780,
        "y": 1140,
        "wires": [
            []
        ]
    },
    {
        "id": "a872c610d835c2fa",
        "type": "api-call-service",
        "z": "774d9f8888f0a1fd",
        "name": "Notify",
        "server": "d6ccf41005253901",
        "version": 5,
        "debugenabled": false,
        "domain": "notify",
        "service": "mobile_app_vpogu_pixel_7",
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1010,
        "y": 1200,
        "wires": [
            []
        ]
    },
    {
        "id": "b8bdd117c2918021",
        "type": "api-current-state",
        "z": "774d9f8888f0a1fd",
        "name": "Blinds battery less than 10%",
        "server": "d6ccf41005253901",
        "version": 3,
        "outputs": 2,
        "halt_if": "10",
        "halt_if_type": "num",
        "halt_if_compare": "lte",
        "entity_id": "sensor.bedroom_blinds_battery_level",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 800,
        "y": 1200,
        "wires": [
            [
                "a872c610d835c2fa"
            ],
            []
        ]
    },
    {
        "id": "c46b3711d182c9fd",
        "type": "api-call-service",
        "z": "774d9f8888f0a1fd",
        "name": "Turn off circadian lighting",
        "server": "d6ccf41005253901",
        "version": 5,
        "debugenabled": false,
        "domain": "switch",
        "service": "turn_off",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "switch.circadian_lighting_circadian_lighting"
        ],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 790,
        "y": 960,
        "wires": [
            []
        ]
    },
    {
        "id": "25fc04121befd5ba",
        "type": "api-call-service",
        "z": "774d9f8888f0a1fd",
        "name": "Open bedroom blinds",
        "server": "d6ccf41005253901",
        "version": 5,
        "debugenabled": false,
        "domain": "cover",
        "service": "set_cover_tilt_position",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "cover.bedroom_blinds"
        ],
        "data": "{\"tilt_position\":50}",
        "dataType": "json",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 580,
        "y": 480,
        "wires": [
            []
        ]
    },
    {
        "id": "28642bf5b19db58d",
        "type": "api-call-service",
        "z": "774d9f8888f0a1fd",
        "name": "Close bedroom blinds",
        "server": "d6ccf41005253901",
        "version": 5,
        "debugenabled": false,
        "domain": "cover",
        "service": "set_cover_tilt_position",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "cover.bedroom_blinds"
        ],
        "data": "{\"tilt_position\": 0}",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 780,
        "y": 1080,
        "wires": [
            []
        ]
    },
    {
        "id": "e0f9f44cd8d04ab9",
        "type": "inject",
        "z": "774d9f8888f0a1fd",
        "name": "Weekdays at 8AM",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "00 08 * * 1,2,3,4,5",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 130,
        "y": 680,
        "wires": [
            [
                "32bee5bb95fcbadb"
            ]
        ]
    },
    {
        "id": "32bee5bb95fcbadb",
        "type": "api-current-state",
        "z": "774d9f8888f0a1fd",
        "name": "On vacation?",
        "server": "d6ccf41005253901",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.on_vacation",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 360,
        "y": 680,
        "wires": [
            [],
            [
                "a3e3c13a572af51e"
            ]
        ]
    },
    {
        "id": "16c06c65a6a1734e",
        "type": "api-call-service",
        "z": "774d9f8888f0a1fd",
        "name": "Turn fan on",
        "server": "d6ccf41005253901",
        "version": 5,
        "debugenabled": false,
        "domain": "switch",
        "service": "turn_on",
        "areaId": [],
        "deviceId": [
            "6753d788b282d44a7f832ea5db0e926b"
        ],
        "entityId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 790,
        "y": 540,
        "wires": [
            [
                "60a1f9cd4c1f3c43"
            ]
        ]
    },
    {
        "id": "3874244fd2a9b8bb",
        "type": "api-call-service",
        "z": "774d9f8888f0a1fd",
        "name": "Turn fan off",
        "server": "d6ccf41005253901",
        "version": 5,
        "debugenabled": false,
        "domain": "switch",
        "service": "turn_off",
        "areaId": [],
        "deviceId": [
            "6753d788b282d44a7f832ea5db0e926b"
        ],
        "entityId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1150,
        "y": 540,
        "wires": [
            []
        ]
    },
    {
        "id": "60a1f9cd4c1f3c43",
        "type": "stoptimer",
        "z": "774d9f8888f0a1fd",
        "duration": "2",
        "units": "Hour",
        "payloadtype": "num",
        "payloadval": "0",
        "name": "",
        "x": 970,
        "y": 540,
        "wires": [
            [
                "3874244fd2a9b8bb"
            ],
            []
        ]
    },
    {
        "id": "f3b135f5e173a097",
        "type": "api-current-state",
        "z": "774d9f8888f0a1fd",
        "name": "Work room temp > 75",
        "server": "d6ccf41005253901",
        "version": 3,
        "outputs": 2,
        "halt_if": "75",
        "halt_if_type": "num",
        "halt_if_compare": "gt",
        "entity_id": "sensor.office_area_temperature",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 580,
        "y": 540,
        "wires": [
            [
                "16c06c65a6a1734e"
            ],
            []
        ]
    },
    {
        "id": "26e3436f6b072597",
        "type": "api-current-state",
        "z": "774d9f8888f0a1fd",
        "name": "On vacation?",
        "server": "d6ccf41005253901",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.on_vacation",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 290,
        "y": 1080,
        "wires": [
            [],
            [
                "34c8a3fe70b4fad0"
            ]
        ]
    },
    {
        "id": "b9118cac70f486a9",
        "type": "api-current-state",
        "z": "774d9f8888f0a1fd",
        "name": "On vacation?",
        "server": "d6ccf41005253901",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.on_vacation",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 350,
        "y": 280,
        "wires": [
            [],
            [
                "01eaa9ec451124e4"
            ]
        ]
    },
    {
        "id": "01eaa9ec451124e4",
        "type": "api-call-service",
        "z": "774d9f8888f0a1fd",
        "name": "Open living room curtains",
        "server": "d6ccf41005253901",
        "version": 5,
        "debugenabled": false,
        "domain": "cover",
        "service": "open_cover",
        "areaId": [],
        "deviceId": [
            "7b564595d8481908ff10b4e73e7f96c4"
        ],
        "entityId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 590,
        "y": 280,
        "wires": [
            [
                "c9f94c53b10312c9"
            ]
        ]
    },
    {
        "id": "19dee6a4011f787c",
        "type": "api-call-service",
        "z": "774d9f8888f0a1fd",
        "name": "Open bedroom curtains",
        "server": "d6ccf41005253901",
        "version": 5,
        "debugenabled": false,
        "domain": "cover",
        "service": "open_cover",
        "areaId": [],
        "deviceId": [
            "e3133fb94508f406220b8bc2a78f75d8",
            "128d4666ab50e61ccb6a3626baa9653b"
        ],
        "entityId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 590,
        "y": 600,
        "wires": [
            [
                "76aef9cb4b057f02"
            ]
        ]
    },
    {
        "id": "67f111b5374c4367",
        "type": "api-call-service",
        "z": "774d9f8888f0a1fd",
        "name": "Close all curtains",
        "server": "d6ccf41005253901",
        "version": 5,
        "debugenabled": false,
        "domain": "cover",
        "service": "close_cover",
        "areaId": [],
        "deviceId": [
            "e3133fb94508f406220b8bc2a78f75d8",
            "7b564595d8481908ff10b4e73e7f96c4",
            "128d4666ab50e61ccb6a3626baa9653b"
        ],
        "entityId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "Good night ",
                "valueType": "str"
            }
        ],
        "queue": "none",
        "x": 770,
        "y": 1020,
        "wires": [
            [
                "888e0750a94e2308"
            ]
        ]
    },
    {
        "id": "fbcf5e19466f3a96",
        "type": "sun-event-inject",
        "z": "774d9f8888f0a1fd",
        "name": "Dawn",
        "latitude": "44.0852",
        "longitude": "-92.49033",
        "event": "dawn",
        "offset": "0",
        "injectEventTimesAfterStartup": false,
        "x": 90,
        "y": 280,
        "wires": [
            [
                "b9118cac70f486a9"
            ]
        ]
    },
    {
        "id": "6292b093522d7f57",
        "type": "sun-event-inject",
        "z": "774d9f8888f0a1fd",
        "name": "Sunrise + 1hrs",
        "latitude": "44.0852",
        "longitude": "-92.49033",
        "event": "sunrise",
        "offset": "3600",
        "injectEventTimesAfterStartup": false,
        "x": 110,
        "y": 540,
        "wires": [
            [
                "d38157b79186dae5"
            ]
        ]
    },
    {
        "id": "f7acc0c9cc0d203e",
        "type": "sun-event-inject",
        "z": "774d9f8888f0a1fd",
        "name": "Sunset - 1hr",
        "latitude": "44.0852",
        "longitude": "-92.49033",
        "event": "sunset",
        "offset": "-3600",
        "injectEventTimesAfterStartup": false,
        "x": 110,
        "y": 1080,
        "wires": [
            [
                "26e3436f6b072597"
            ]
        ]
    },
    {
        "id": "8224a49dab2cebdb",
        "type": "api-call-service",
        "z": "774d9f8888f0a1fd",
        "name": "Open living room curtains",
        "server": "d6ccf41005253901",
        "version": 5,
        "debugenabled": false,
        "domain": "cover",
        "service": "open_cover",
        "areaId": [],
        "deviceId": [
            "7b564595d8481908ff10b4e73e7f96c4"
        ],
        "entityId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1070,
        "y": 280,
        "wires": [
            []
        ]
    },
    {
        "id": "c9f94c53b10312c9",
        "type": "stoptimer",
        "z": "774d9f8888f0a1fd",
        "duration": "15",
        "units": "Minute",
        "payloadtype": "num",
        "payloadval": "0",
        "name": "Wait 15mins",
        "x": 830,
        "y": 280,
        "wires": [
            [
                "8224a49dab2cebdb"
            ],
            []
        ]
    },
    {
        "id": "ae1902a8507e32f7",
        "type": "api-call-service",
        "z": "774d9f8888f0a1fd",
        "name": "Close all curtains",
        "server": "d6ccf41005253901",
        "version": 5,
        "debugenabled": false,
        "domain": "cover",
        "service": "close_cover",
        "areaId": [],
        "deviceId": [
            "e3133fb94508f406220b8bc2a78f75d8",
            "7b564595d8481908ff10b4e73e7f96c4",
            "128d4666ab50e61ccb6a3626baa9653b"
        ],
        "entityId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 970,
        "y": 1320,
        "wires": [
            []
        ]
    },
    {
        "id": "76d1bb318084bf8c",
        "type": "api-call-service",
        "z": "774d9f8888f0a1fd",
        "name": "Close bedroom blinds",
        "server": "d6ccf41005253901",
        "version": 5,
        "debugenabled": false,
        "domain": "cover",
        "service": "set_cover_tilt_position",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "cover.bedroom_blinds"
        ],
        "data": "{\"tilt_position\": 0}",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 980,
        "y": 1380,
        "wires": [
            []
        ]
    },
    {
        "id": "76aef9cb4b057f02",
        "type": "stoptimer",
        "z": "774d9f8888f0a1fd",
        "duration": "15",
        "units": "Minute",
        "payloadtype": "num",
        "payloadval": "0",
        "name": "Wait 15mins",
        "x": 810,
        "y": 600,
        "wires": [
            [
                "283fc3258050f729"
            ],
            []
        ]
    },
    {
        "id": "283fc3258050f729",
        "type": "api-call-service",
        "z": "774d9f8888f0a1fd",
        "name": "Open bedroom curtains",
        "server": "d6ccf41005253901",
        "version": 5,
        "debugenabled": false,
        "domain": "cover",
        "service": "open_cover",
        "areaId": [],
        "deviceId": [
            "e3133fb94508f406220b8bc2a78f75d8",
            "128d4666ab50e61ccb6a3626baa9653b"
        ],
        "entityId": [],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1050,
        "y": 600,
        "wires": [
            []
        ]
    },
    {
        "id": "6c21aaa3a47ae81f",
        "type": "api-current-state",
        "z": "774d9f8888f0a1fd",
        "name": "Is out of water?",
        "server": "d6ccf41005253901",
        "version": 3,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "binary_sensor.bedroom_humidifier_out_of_water",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 580,
        "y": 800,
        "wires": [
            [
                "0fdd8885bea1acc2"
            ],
            [
                "2d2bb292c61d7837"
            ]
        ]
    },
    {
        "id": "0fdd8885bea1acc2",
        "type": "api-call-service",
        "z": "774d9f8888f0a1fd",
        "name": "Notify",
        "server": "d6ccf41005253901",
        "version": 5,
        "debugenabled": false,
        "domain": "notify",
        "service": "mobile_app_vpogu_pixel_7",
        "areaId": [],
        "deviceId": [],
        "entityId": [],
        "data": "{\"message\":\" Humidifier Out of Water, Please refill.\",\"title\":\"Home Automation\"}",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 790,
        "y": 780,
        "wires": [
            []
        ]
    },
    {
        "id": "2d2bb292c61d7837",
        "type": "api-call-service",
        "z": "774d9f8888f0a1fd",
        "name": "Turn on humidifier",
        "server": "d6ccf41005253901",
        "version": 5,
        "debugenabled": false,
        "domain": "humidifier",
        "service": "turn_on",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "humidifier.bedroom_humidifier"
        ],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 830,
        "y": 840,
        "wires": [
            [
                "f4cf214c23dc4999"
            ]
        ]
    },
    {
        "id": "e619f42bbf5a10bc",
        "type": "api-call-service",
        "z": "774d9f8888f0a1fd",
        "name": "Turn off humidifier",
        "server": "d6ccf41005253901",
        "version": 5,
        "debugenabled": false,
        "domain": "humidifier",
        "service": "turn_off",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "humidifier.bedroom_humidifier"
        ],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 570,
        "y": 420,
        "wires": [
            []
        ]
    },
    {
        "id": "34c8a3fe70b4fad0",
        "type": "api-current-state",
        "z": "774d9f8888f0a1fd",
        "name": "Is purifier off?",
        "server": "d6ccf41005253901",
        "version": 3,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "switch.bedroom_purifier",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 500,
        "y": 1080,
        "wires": [
            [
                "c46b3711d182c9fd",
                "67f111b5374c4367",
                "28642bf5b19db58d",
                "e4ff6020183cf857",
                "b8bdd117c2918021",
                "c8ac0ed8e93b37be"
            ],
            []
        ]
    },
    {
        "id": "41371f827c40e96b",
        "type": "api-call-service",
        "z": "774d9f8888f0a1fd",
        "name": "Turn off good night script",
        "server": "d6ccf41005253901",
        "version": 5,
        "debugenabled": false,
        "domain": "input_boolean",
        "service": "turn_off",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.run_goodnight_script"
        ],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 990,
        "y": 1260,
        "wires": [
            []
        ]
    },
    {
        "id": "43b4fb10a2524866",
        "type": "server-state-changed",
        "z": "774d9f8888f0a1fd",
        "name": "Run good night script",
        "server": "d6ccf41005253901",
        "version": 4,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "input_boolean.run_goodnight_script",
        "entityidfiltertype": "exact",
        "outputinitially": false,
        "state_type": "str",
        "haltifstate": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "outputs": 2,
        "output_only_on_state_change": true,
        "for": "0",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 120,
        "y": 1020,
        "wires": [
            [
                "26e3436f6b072597"
            ],
            []
        ]
    },
    {
        "id": "5072e84e714350ee",
        "type": "api-call-service",
        "z": "774d9f8888f0a1fd",
        "name": "Turn on motion sensor",
        "server": "d6ccf41005253901",
        "version": 5,
        "debugenabled": false,
        "domain": "input_boolean",
        "service": "turn_on",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "input_boolean.office_room_motion"
        ],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 380,
        "y": 120,
        "wires": [
            []
        ]
    },
    {
        "id": "c8ac0ed8e93b37be",
        "type": "stoptimer",
        "z": "774d9f8888f0a1fd",
        "duration": "15",
        "units": "Minute",
        "payloadtype": "num",
        "payloadval": "0",
        "name": "Wait 15mins",
        "x": 770,
        "y": 1320,
        "wires": [
            [
                "41371f827c40e96b",
                "ae1902a8507e32f7",
                "76d1bb318084bf8c"
            ],
            []
        ]
    },
    {
        "id": "7c2e83a03857a867",
        "type": "inject",
        "z": "774d9f8888f0a1fd",
        "name": "Mon, Web and Fri at 9AM",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "00 09 * * 1,3,5",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 160,
        "y": 1500,
        "wires": [
            [
                "cb565c0da323e881"
            ]
        ]
    },
    {
        "id": "cb565c0da323e881",
        "type": "api-call-service",
        "z": "774d9f8888f0a1fd",
        "name": "Turn off Garage Pi",
        "server": "d6ccf41005253901",
        "version": 5,
        "debugenabled": false,
        "domain": "switch",
        "service": "turn_off",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "switch.garage"
        ],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "Garage PI turned off",
                "valueType": "str"
            }
        ],
        "queue": "none",
        "x": 410,
        "y": 1500,
        "wires": [
            [
                "c157cdd568c3b23e",
                "3b5b65cf800597d7"
            ]
        ]
    },
    {
        "id": "c157cdd568c3b23e",
        "type": "stoptimer",
        "z": "774d9f8888f0a1fd",
        "duration": "3",
        "units": "Minute",
        "payloadtype": "num",
        "payloadval": "0",
        "name": "Wait 3mins",
        "x": 630,
        "y": 1500,
        "wires": [
            [
                "9ee6753b9af61523"
            ],
            []
        ]
    },
    {
        "id": "9ee6753b9af61523",
        "type": "api-call-service",
        "z": "774d9f8888f0a1fd",
        "name": "Turn on Garage Pi",
        "server": "d6ccf41005253901",
        "version": 5,
        "debugenabled": false,
        "domain": "switch",
        "service": "turn_on",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "switch.garage"
        ],
        "data": "",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "Garage PI turned on",
                "valueType": "str"
            }
        ],
        "queue": "none",
        "x": 830,
        "y": 1500,
        "wires": [
            [
                "3b5b65cf800597d7"
            ]
        ]
    },
    {
        "id": "3b5b65cf800597d7",
        "type": "discord-send-messages",
        "z": "774d9f8888f0a1fd",
        "name": "Send Discord Message",
        "channel": "k3s",
        "token": "dd6d6e8ac09404c5",
        "x": 910,
        "y": 1600,
        "wires": []
    },
    {
        "id": "888e0750a94e2308",
        "type": "discord-send-messages",
        "z": "774d9f8888f0a1fd",
        "name": "Send Discord Message",
        "channel": "k3s",
        "token": "dd6d6e8ac09404c5",
        "x": 1110,
        "y": 1020,
        "wires": []
    },
    {
        "id": "f4cf214c23dc4999",
        "type": "api-call-service",
        "z": "774d9f8888f0a1fd",
        "name": "Set mode humidifier",
        "server": "d6ccf41005253901",
        "version": 5,
        "debugenabled": false,
        "domain": "humidifier",
        "service": "set_mode",
        "areaId": [],
        "deviceId": [],
        "entityId": [
            "humidifier.bedroom_humidifier"
        ],
        "data": "{\"mode\":\"sleep\"}",
        "dataType": "jsonata",
        "mergeContext": "",
        "mustacheAltTags": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "Humidifier turned on with sleep mode",
                "valueType": "str"
            }
        ],
        "queue": "none",
        "x": 1120,
        "y": 840,
        "wires": [
            [
                "888e0750a94e2308"
            ]
        ]
    }
]