[
    {
        "id": "7f2efefbbceb30df",
        "type": "tab",
        "label": "Office Area",
        "disabled": false,
        "info": ""
    },
    {
        "id": "7f54fc151e2b8fe4",
        "type": "tab",
        "label": "Living Room",
        "disabled": false,
        "info": ""
    },
    {
        "id": "a0b0c69958ec912d",
        "type": "tab",
        "label": "Garage Door",
        "disabled": false,
        "info": ""
    },
    {
        "id": "04cb334222380c1b",
        "type": "tab",
        "label": "Bedroom",
        "disabled": false,
        "info": ""
    },
    {
        "id": "7a50c5242f5febf8",
        "type": "tab",
        "label": "Kitchen",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "774d9f8888f0a1fd",
        "type": "tab",
        "label": "Timed Schedule",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "d6ccf41005253901",
        "type": "server",
        "name": "Home Assistant",
        "version": 1,
        "addon": false,
        "rejectUnauthorizedCerts": true,
        "ha_boolean": "y|yes|true|on|home|open",
        "connectionDelay": true,
        "cacheJson": true
    },
    {
        "id": "97b1659216df3b70",
        "type": "api-current-state",
        "z": "7f2efefbbceb30df",
        "name": "Is lights on?",
        "server": "d6ccf41005253901",
        "version": 2,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "light.office_ceiling_lights_group",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 310,
        "y": 200,
        "wires": [
            [],
            [
                "04c2addc63b8b520"
            ]
        ]
    },
    {
        "id": "7714f0f2226a61ef",
        "type": "api-current-state",
        "z": "7f2efefbbceb30df",
        "name": "Is lights on?",
        "server": "d6ccf41005253901",
        "version": 2,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "light.office_ceiling_lights_group",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 310,
        "y": 280,
        "wires": [
            [
                "67dacfe3e5066af4"
            ],
            []
        ]
    },
    {
        "id": "51a2a6ce9bd9dd6b",
        "type": "api-call-service",
        "z": "7f2efefbbceb30df",
        "name": "Office Lights Off",
        "server": "d6ccf41005253901",
        "version": 3,
        "debugenabled": false,
        "service_domain": "light",
        "service": "turn_off",
        "entityId": "light.office_ceiling_lights_group",
        "data": "",
        "dataType": "jsonata",
        "mergecontext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1120,
        "y": 300,
        "wires": [
            []
        ]
    },
    {
        "id": "04c2addc63b8b520",
        "type": "api-call-service",
        "z": "7f2efefbbceb30df",
        "name": "Office Lights On",
        "server": "d6ccf41005253901",
        "version": 3,
        "debugenabled": false,
        "service_domain": "light",
        "service": "turn_on",
        "entityId": "light.office_ceiling_lights_group",
        "data": "",
        "dataType": "jsonata",
        "mergecontext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 520,
        "y": 180,
        "wires": [
            []
        ]
    },
    {
        "id": "49f1a17de498d381",
        "type": "server-state-changed",
        "z": "7f2efefbbceb30df",
        "name": "Office Occupancy",
        "server": "d6ccf41005253901",
        "version": 3,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "binary_sensor.officemotionsensor_occupancy",
        "entityidfiltertype": "exact",
        "outputinitially": false,
        "state_type": "str",
        "haltifstate": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "outputs": 2,
        "output_only_on_state_change": true,
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 110,
        "y": 240,
        "wires": [
            [
                "97b1659216df3b70"
            ],
            [
                "7714f0f2226a61ef"
            ]
        ]
    },
    {
        "id": "3e11ce62b36331cb",
        "type": "delay",
        "z": "7f2efefbbceb30df",
        "name": "",
        "pauseType": "delay",
        "timeout": "60",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 740,
        "y": 300,
        "wires": [
            [
                "a69b697c51e79cfd"
            ]
        ]
    },
    {
        "id": "a69b697c51e79cfd",
        "type": "api-current-state",
        "z": "7f2efefbbceb30df",
        "name": "Is occupied?",
        "server": "d6ccf41005253901",
        "version": 2,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "binary_sensor.officemotionsensor_occupancy",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 910,
        "y": 300,
        "wires": [
            [],
            [
                "51a2a6ce9bd9dd6b"
            ]
        ]
    },
    {
        "id": "a40149d814a3d23a",
        "type": "server-state-changed",
        "z": "7f2efefbbceb30df",
        "name": "Occupancy Off for 5min",
        "server": "d6ccf41005253901",
        "version": 3,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "binary_sensor.officemotionsensor_occupancy",
        "entityidfiltertype": "exact",
        "outputinitially": false,
        "state_type": "str",
        "haltifstate": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "outputs": 2,
        "output_only_on_state_change": true,
        "for": "5",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 120,
        "y": 100,
        "wires": [
            [
                "c8784f2370284d59"
            ],
            []
        ]
    },
    {
        "id": "bd653483be73826e",
        "type": "api-current-state",
        "z": "7f2efefbbceb30df",
        "name": "BLE presence",
        "server": "d6ccf41005253901",
        "version": 2,
        "outputs": 2,
        "halt_if": "k8s-6-pi4-office",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "sensor.vpogu_pixel_6_room_presence",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 500,
        "y": 100,
        "wires": [
            [
                "6f1b779b483d1207"
            ],
            [
                "2a061426630480d5"
            ]
        ]
    },
    {
        "id": "6f1b779b483d1207",
        "type": "switch",
        "z": "7f2efefbbceb30df",
        "name": "Distance greater than 1.0",
        "property": "data.attributes.distance",
        "propertyType": "msg",
        "rules": [
            {
                "t": "gte",
                "v": "1.0",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 750,
        "y": 60,
        "wires": [
            [
                "2a061426630480d5"
            ]
        ]
    },
    {
        "id": "2a061426630480d5",
        "type": "api-call-service",
        "z": "7f2efefbbceb30df",
        "name": "Office Lights Off",
        "server": "d6ccf41005253901",
        "version": 3,
        "debugenabled": false,
        "service_domain": "light",
        "service": "turn_off",
        "entityId": "light.office_ceiling_lights_group",
        "data": "",
        "dataType": "jsonata",
        "mergecontext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 740,
        "y": 120,
        "wires": [
            []
        ]
    },
    {
        "id": "67dacfe3e5066af4",
        "type": "api-current-state",
        "z": "7f2efefbbceb30df",
        "name": "BLE presence",
        "server": "d6ccf41005253901",
        "version": 2,
        "outputs": 2,
        "halt_if": "k8s-6-pi4-office",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "sensor.vpogu_pixel_6_room_presence",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 500,
        "y": 280,
        "wires": [
            [
                "4d705941a497fec9"
            ],
            [
                "3e11ce62b36331cb"
            ]
        ]
    },
    {
        "id": "4d705941a497fec9",
        "type": "switch",
        "z": "7f2efefbbceb30df",
        "name": "Distance greater than 1.0",
        "property": "data.attributes.distance",
        "propertyType": "msg",
        "rules": [
            {
                "t": "gte",
                "v": "1.0",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 750,
        "y": 240,
        "wires": [
            [
                "3e11ce62b36331cb"
            ]
        ]
    },
    {
        "id": "c8784f2370284d59",
        "type": "api-current-state",
        "z": "7f2efefbbceb30df",
        "name": "Is lights on?",
        "server": "d6ccf41005253901",
        "version": 2,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "light.office_ceiling_lights_group",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 310,
        "y": 100,
        "wires": [
            [
                "bd653483be73826e"
            ],
            []
        ]
    },
    {
        "id": "2592e9fe7576d8f8",
        "type": "server-state-changed",
        "z": "7f2efefbbceb30df",
        "name": "Temp greater than 72",
        "server": "d6ccf41005253901",
        "version": 3,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "sensor.ble_temperature_work_room",
        "entityidfiltertype": "exact",
        "outputinitially": false,
        "state_type": "str",
        "haltifstate": "72",
        "halt_if_type": "num",
        "halt_if_compare": "gte",
        "outputs": 2,
        "output_only_on_state_change": true,
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 120,
        "y": 380,
        "wires": [
            [
                "bb7cef295ed26e2b"
            ],
            [
                "f3c6421e7baad3f0"
            ]
        ]
    },
    {
        "id": "bb7cef295ed26e2b",
        "type": "api-call-service",
        "z": "7f2efefbbceb30df",
        "name": "Turn off thermostat",
        "server": "d6ccf41005253901",
        "version": 3,
        "debugenabled": false,
        "service_domain": "climate",
        "service": "turn_off",
        "entityId": "climate.living_room",
        "data": "",
        "dataType": "jsonata",
        "mergecontext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 350,
        "y": 340,
        "wires": [
            []
        ]
    },
    {
        "id": "ec485280ae36d63a",
        "type": "api-call-service",
        "z": "7f2efefbbceb30df",
        "name": "Turn heat on",
        "server": "d6ccf41005253901",
        "version": 3,
        "debugenabled": true,
        "service_domain": "climate",
        "service": "set_hvac_mode",
        "entityId": "climate.living_room",
        "data": "{\"hvac_mode\":\"heat\"}",
        "dataType": "jsonata",
        "mergecontext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 710,
        "y": 420,
        "wires": [
            [
                "6e5a6e82fc613166"
            ]
        ]
    },
    {
        "id": "6e5a6e82fc613166",
        "type": "api-call-service",
        "z": "7f2efefbbceb30df",
        "name": "Set temp to 69",
        "server": "d6ccf41005253901",
        "version": 3,
        "debugenabled": false,
        "service_domain": "climate",
        "service": "set_temperature",
        "entityId": "climate.living_room",
        "data": "{\"temperature\":\"69\"}",
        "dataType": "jsonata",
        "mergecontext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 900,
        "y": 420,
        "wires": [
            []
        ]
    },
    {
        "id": "f3c6421e7baad3f0",
        "type": "api-current-state",
        "z": "7f2efefbbceb30df",
        "name": "Weather",
        "server": "d6ccf41005253901",
        "version": 2,
        "outputs": 1,
        "halt_if": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "weather.home",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 320,
        "y": 420,
        "wires": [
            [
                "efd3e2c11e25a37a"
            ]
        ]
    },
    {
        "id": "efd3e2c11e25a37a",
        "type": "switch",
        "z": "7f2efefbbceb30df",
        "name": "Temp less than 50",
        "property": "data.attributes.temperature",
        "propertyType": "msg",
        "rules": [
            {
                "t": "lt",
                "v": "50",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 510,
        "y": 420,
        "wires": [
            [
                "ec485280ae36d63a"
            ]
        ]
    },
    {
        "id": "f7cbb6cf7003d9a6",
        "type": "server-state-changed",
        "z": "7f54fc151e2b8fe4",
        "name": "Living Room Motion",
        "server": "d6ccf41005253901",
        "version": 3,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "binary_sensor.livingroommotionsensor_occupancy",
        "entityidfiltertype": "exact",
        "outputinitially": false,
        "state_type": "str",
        "haltifstate": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "outputs": 2,
        "output_only_on_state_change": true,
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 110,
        "y": 200,
        "wires": [
            [
                "252a91796ae2681b"
            ],
            [
                "0e4be3ccb7e3d349"
            ]
        ]
    },
    {
        "id": "252a91796ae2681b",
        "type": "api-current-state",
        "z": "7f54fc151e2b8fe4",
        "name": "Is lights on?",
        "server": "d6ccf41005253901",
        "version": 2,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "light.living_room_dining_group",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 310,
        "y": 160,
        "wires": [
            [],
            [
                "319d83b6331b19d1"
            ]
        ]
    },
    {
        "id": "0e4be3ccb7e3d349",
        "type": "api-current-state",
        "z": "7f54fc151e2b8fe4",
        "name": "Is lights on?",
        "server": "d6ccf41005253901",
        "version": 2,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "light.living_room_dining_group",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 310,
        "y": 240,
        "wires": [
            [
                "935c15097c78ee73"
            ],
            []
        ]
    },
    {
        "id": "cc49677e8e29d8a9",
        "type": "api-call-service",
        "z": "7f54fc151e2b8fe4",
        "name": "Lights On",
        "server": "d6ccf41005253901",
        "version": 3,
        "debugenabled": false,
        "service_domain": "light",
        "service": "turn_on",
        "entityId": "light.living_room_dining_group",
        "data": "",
        "dataType": "jsonata",
        "mergecontext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 940,
        "y": 140,
        "wires": [
            []
        ]
    },
    {
        "id": "935c15097c78ee73",
        "type": "api-current-state",
        "z": "7f54fc151e2b8fe4",
        "name": "Is TV On",
        "server": "d6ccf41005253901",
        "version": 2,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "entity_id": "media_player.sony_bravia_tv",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 480,
        "y": 240,
        "wires": [
            [],
            [
                "7a55c1597ace4610"
            ]
        ]
    },
    {
        "id": "7a55c1597ace4610",
        "type": "delay",
        "z": "7f54fc151e2b8fe4",
        "name": "",
        "pauseType": "delay",
        "timeout": "90",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 660,
        "y": 280,
        "wires": [
            [
                "4d39cebd2b5c260a"
            ]
        ]
    },
    {
        "id": "3d031c292d2ed8c4",
        "type": "api-call-service",
        "z": "7f54fc151e2b8fe4",
        "name": "Lights Off",
        "server": "d6ccf41005253901",
        "version": 3,
        "debugenabled": false,
        "service_domain": "light",
        "service": "turn_off",
        "entityId": "light.living_room_dining_group",
        "data": "",
        "dataType": "jsonata",
        "mergecontext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1000,
        "y": 240,
        "wires": [
            []
        ]
    },
    {
        "id": "4d39cebd2b5c260a",
        "type": "api-current-state",
        "z": "7f54fc151e2b8fe4",
        "name": "Is occupied?",
        "server": "d6ccf41005253901",
        "version": 2,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "binary_sensor.livingroommotionsensor_occupancy",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 830,
        "y": 280,
        "wires": [
            [],
            [
                "3d031c292d2ed8c4"
            ]
        ]
    },
    {
        "id": "46c2c54a4070c669",
        "type": "server-state-changed",
        "z": "7f54fc151e2b8fe4",
        "name": "Living occupancy off for 5min",
        "server": "d6ccf41005253901",
        "version": 3,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "binary_sensor.livingroommotionsensor_occupancy",
        "entityidfiltertype": "exact",
        "outputinitially": false,
        "state_type": "str",
        "haltifstate": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "outputs": 2,
        "output_only_on_state_change": true,
        "for": "5",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 140,
        "y": 80,
        "wires": [
            [
                "74655bc51712ce86"
            ],
            []
        ]
    },
    {
        "id": "290f78b313826470",
        "type": "api-call-service",
        "z": "7f54fc151e2b8fe4",
        "name": "Lights Off",
        "server": "d6ccf41005253901",
        "version": 3,
        "debugenabled": false,
        "service_domain": "light",
        "service": "turn_off",
        "entityId": "light.living_room_dining_group",
        "data": "",
        "dataType": "jsonata",
        "mergecontext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 760,
        "y": 80,
        "wires": [
            []
        ]
    },
    {
        "id": "0f9a76747d318afd",
        "type": "api-current-state",
        "z": "7f54fc151e2b8fe4",
        "name": "Is TV On",
        "server": "d6ccf41005253901",
        "version": 2,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "entity_id": "media_player.sony_bravia_tv",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 580,
        "y": 80,
        "wires": [
            [],
            [
                "290f78b313826470"
            ]
        ]
    },
    {
        "id": "319d83b6331b19d1",
        "type": "api-current-state",
        "z": "7f54fc151e2b8fe4",
        "name": "Illuminance is less than 40",
        "server": "d6ccf41005253901",
        "version": 2,
        "outputs": 2,
        "halt_if": "40",
        "halt_if_type": "num",
        "halt_if_compare": "lte",
        "entity_id": "sensor.livingroommotionsensor_illuminance_lux",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 540,
        "y": 160,
        "wires": [
            [
                "cfdc77ac507786b2"
            ],
            []
        ]
    },
    {
        "id": "cfdc77ac507786b2",
        "type": "api-current-state",
        "z": "7f54fc151e2b8fe4",
        "name": "Is TV On",
        "server": "d6ccf41005253901",
        "version": 2,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "entity_id": "media_player.sony_bravia_tv",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 760,
        "y": 140,
        "wires": [
            [],
            [
                "cc49677e8e29d8a9"
            ]
        ]
    },
    {
        "id": "6fdf26baf073bd35",
        "type": "api-call-service",
        "z": "7f54fc151e2b8fe4",
        "name": "Led Lights Off",
        "server": "d6ccf41005253901",
        "version": 3,
        "debugenabled": false,
        "service_domain": "light",
        "service": "turn_off",
        "entityId": "light.tv_h6199",
        "data": "",
        "dataType": "jsonata",
        "mergecontext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 460,
        "y": 460,
        "wires": [
            []
        ]
    },
    {
        "id": "3c3670a599ac377d",
        "type": "server-state-changed",
        "z": "7f54fc151e2b8fe4",
        "name": "TV On",
        "server": "d6ccf41005253901",
        "version": 3,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "media_player.sony_bravia_tv",
        "entityidfiltertype": "exact",
        "outputinitially": false,
        "state_type": "str",
        "haltifstate": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "outputs": 2,
        "output_only_on_state_change": true,
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 70,
        "y": 380,
        "wires": [
            [
                "49f29e5f8751874f",
                "5f7b2048c889c140"
            ],
            [
                "4b5f215aa128cb2a"
            ]
        ]
    },
    {
        "id": "49f29e5f8751874f",
        "type": "time-range-switch",
        "z": "7f54fc151e2b8fe4",
        "name": "6PM - 5AM",
        "lat": "44.08527",
        "lon": "-92.4904",
        "startTime": "18:00",
        "endTime": "05:00",
        "startOffset": 0,
        "endOffset": 0,
        "x": 270,
        "y": 380,
        "wires": [
            [
                "bed19084e9ebb539"
            ],
            []
        ]
    },
    {
        "id": "bed19084e9ebb539",
        "type": "api-call-service",
        "z": "7f54fc151e2b8fe4",
        "name": "Led Lights On",
        "server": "d6ccf41005253901",
        "version": 3,
        "debugenabled": false,
        "service_domain": "light",
        "service": "turn_on",
        "entityId": "light.tv_h6199",
        "data": "",
        "dataType": "jsonata",
        "mergecontext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 480,
        "y": 360,
        "wires": [
            []
        ]
    },
    {
        "id": "4b5f215aa128cb2a",
        "type": "api-current-state",
        "z": "7f54fc151e2b8fe4",
        "name": "LED On?",
        "server": "d6ccf41005253901",
        "version": 2,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "light.tv_h6199",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 260,
        "y": 460,
        "wires": [
            [
                "6fdf26baf073bd35"
            ],
            []
        ]
    },
    {
        "id": "74655bc51712ce86",
        "type": "api-current-state",
        "z": "7f54fc151e2b8fe4",
        "name": "Is lights on?",
        "server": "d6ccf41005253901",
        "version": 2,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "light.living_room_dining_group",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 390,
        "y": 80,
        "wires": [
            [
                "0f9a76747d318afd"
            ],
            []
        ]
    },
    {
        "id": "6f6f86b37aa01674",
        "type": "server-state-changed",
        "z": "7f54fc151e2b8fe4",
        "name": "Temp less than 69",
        "server": "d6ccf41005253901",
        "version": 3,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "sensor.ble_temperature_living_room",
        "entityidfiltertype": "exact",
        "outputinitially": false,
        "state_type": "str",
        "haltifstate": "68",
        "halt_if_type": "num",
        "halt_if_compare": "lt",
        "outputs": 2,
        "output_only_on_state_change": true,
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 110,
        "y": 600,
        "wires": [
            [
                "d275e2d33986cb53"
            ],
            [
                "0d538ce6562a20b0"
            ]
        ]
    },
    {
        "id": "d275e2d33986cb53",
        "type": "api-call-service",
        "z": "7f54fc151e2b8fe4",
        "name": "Turn on heater",
        "server": "d6ccf41005253901",
        "version": 3,
        "debugenabled": false,
        "service_domain": "switch",
        "service": "turn_on",
        "entityId": "switch.office_area",
        "data": "",
        "dataType": "jsonata",
        "mergecontext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 340,
        "y": 560,
        "wires": [
            []
        ]
    },
    {
        "id": "0d538ce6562a20b0",
        "type": "api-call-service",
        "z": "7f54fc151e2b8fe4",
        "name": "Turn off heater",
        "server": "d6ccf41005253901",
        "version": 3,
        "debugenabled": false,
        "service_domain": "switch",
        "service": "turn_off",
        "entityId": "switch.office_area",
        "data": "",
        "dataType": "jsonata",
        "mergecontext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 340,
        "y": 640,
        "wires": [
            []
        ]
    },
    {
        "id": "5f7b2048c889c140",
        "type": "api-call-service",
        "z": "7f54fc151e2b8fe4",
        "name": "Lights On",
        "server": "d6ccf41005253901",
        "version": 3,
        "debugenabled": false,
        "service_domain": "light",
        "service": "turn_on",
        "entityId": "light.living_room_dining_group",
        "data": "",
        "dataType": "jsonata",
        "mergecontext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 260,
        "y": 320,
        "wires": [
            []
        ]
    },
    {
        "id": "53192b1195f8f29a",
        "type": "server-state-changed",
        "z": "a0b0c69958ec912d",
        "name": "Garage Door",
        "server": "d6ccf41005253901",
        "version": 3,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "cover.garage_door",
        "entityidfiltertype": "exact",
        "outputinitially": false,
        "state_type": "str",
        "haltifstate": "open",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "outputs": 2,
        "output_only_on_state_change": true,
        "for": "15",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 150,
        "y": 200,
        "wires": [
            [
                "9b47c61b6bace062"
            ],
            []
        ]
    },
    {
        "id": "c4de164da122a430",
        "type": "api-call-service",
        "z": "a0b0c69958ec912d",
        "name": "Notify if garage door is open",
        "server": "d6ccf41005253901",
        "version": 3,
        "debugenabled": true,
        "service_domain": "notify",
        "service": "mobile_app_vpogu_pixel_6",
        "entityId": "",
        "data": "{\"message\":\"The garage door has been open for 15 minutes.\",\"title\":\"Your Garage Door Friend\"}",
        "dataType": "jsonata",
        "mergecontext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 690,
        "y": 200,
        "wires": [
            []
        ]
    },
    {
        "id": "9b47c61b6bace062",
        "type": "trigger",
        "z": "a0b0c69958ec912d",
        "name": "Trigger every 15mins when open",
        "op1": "1",
        "op2": "0",
        "op1type": "str",
        "op2type": "str",
        "duration": "15",
        "extend": false,
        "overrideDelay": false,
        "units": "min",
        "reset": "closed",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 400,
        "y": 200,
        "wires": [
            [
                "c4de164da122a430"
            ]
        ]
    },
    {
        "id": "9d39994115a8fb38",
        "type": "server-state-changed",
        "z": "a0b0c69958ec912d",
        "name": "Garage Door",
        "server": "d6ccf41005253901",
        "version": 3,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "cover.garage_door",
        "entityidfiltertype": "exact",
        "outputinitially": false,
        "state_type": "str",
        "haltifstate": "open",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "outputs": 2,
        "output_only_on_state_change": true,
        "for": "15",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 150,
        "y": 320,
        "wires": [
            [
                "dbccb7c175d9f470"
            ],
            []
        ]
    },
    {
        "id": "dbccb7c175d9f470",
        "type": "time-range-switch",
        "z": "a0b0c69958ec912d",
        "name": "Between 10PM-04:30AM",
        "lat": "44.085252110053204",
        "lon": "-92.49032161185444",
        "startTime": "22:00",
        "endTime": "04:30",
        "startOffset": 0,
        "endOffset": 0,
        "x": 390,
        "y": 320,
        "wires": [
            [
                "5977776c24eff393"
            ],
            []
        ]
    },
    {
        "id": "5977776c24eff393",
        "type": "api-call-service",
        "z": "a0b0c69958ec912d",
        "name": "Close garage door",
        "server": "d6ccf41005253901",
        "version": 3,
        "debugenabled": false,
        "service_domain": "cover",
        "service": "close_cover",
        "entityId": "cover.garage_door",
        "data": "",
        "dataType": "jsonata",
        "mergecontext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 680,
        "y": 320,
        "wires": [
            []
        ]
    },
    {
        "id": "71404a4b2bfda79e",
        "type": "inject",
        "z": "a0b0c69958ec912d",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 380,
        "y": 120,
        "wires": [
            [
                "c4de164da122a430"
            ]
        ]
    },
    {
        "id": "c8b31705db243631",
        "type": "trigger-state",
        "z": "a0b0c69958ec912d",
        "name": "Quinjet home",
        "server": "d6ccf41005253901",
        "version": 0,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityid": "device_tracker.tesla_location",
        "entityidfiltertype": "exact",
        "debugenabled": false,
        "constraints": [
            {
                "targetType": "this_entity",
                "targetValue": "",
                "propertyType": "previous_state",
                "comparatorType": "is",
                "comparatorValueDatatype": "str",
                "comparatorValue": "not_home",
                "propertyValue": "old_state.state"
            },
            {
                "targetType": "this_entity",
                "targetValue": "",
                "propertyType": "current_state",
                "comparatorType": "is",
                "comparatorValueDatatype": "str",
                "comparatorValue": "home",
                "propertyValue": "new_state.state"
            }
        ],
        "outputs": 2,
        "customoutputs": [],
        "outputinitially": false,
        "state_type": "str",
        "x": 160,
        "y": 440,
        "wires": [
            [
                "bd06002af8347cf3"
            ],
            []
        ]
    },
    {
        "id": "bd06002af8347cf3",
        "type": "api-call-service",
        "z": "a0b0c69958ec912d",
        "name": "Open garage door",
        "server": "d6ccf41005253901",
        "version": 3,
        "debugenabled": false,
        "service_domain": "cover",
        "service": "open_cover",
        "entityId": "cover.garage_door",
        "data": "",
        "dataType": "jsonata",
        "mergecontext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 390,
        "y": 440,
        "wires": [
            []
        ]
    },
    {
        "id": "1478dab7415f1d24",
        "type": "trigger-state",
        "z": "a0b0c69958ec912d",
        "name": "Quinjet not home",
        "server": "d6ccf41005253901",
        "version": 0,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityid": "device_tracker.tesla_location",
        "entityidfiltertype": "exact",
        "debugenabled": false,
        "constraints": [
            {
                "targetType": "this_entity",
                "targetValue": "",
                "propertyType": "previous_state",
                "comparatorType": "is",
                "comparatorValueDatatype": "str",
                "comparatorValue": "home",
                "propertyValue": "old_state.state"
            },
            {
                "targetType": "this_entity",
                "targetValue": "",
                "propertyType": "current_state",
                "comparatorType": "is",
                "comparatorValueDatatype": "str",
                "comparatorValue": "not_home",
                "propertyValue": "new_state.state"
            }
        ],
        "outputs": 2,
        "customoutputs": [],
        "outputinitially": false,
        "state_type": "str",
        "x": 170,
        "y": 520,
        "wires": [
            [
                "870a627d415c9fe0"
            ],
            []
        ]
    },
    {
        "id": "870a627d415c9fe0",
        "type": "api-call-service",
        "z": "a0b0c69958ec912d",
        "name": "close garage door",
        "server": "d6ccf41005253901",
        "version": 3,
        "debugenabled": false,
        "service_domain": "cover",
        "service": "close_cover",
        "entityId": "cover.garage_door",
        "data": "",
        "dataType": "jsonata",
        "mergecontext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 390,
        "y": 520,
        "wires": [
            []
        ]
    },
    {
        "id": "df6fec020920a75b",
        "type": "server-state-changed",
        "z": "04cb334222380c1b",
        "name": "Temp greater than 72",
        "server": "d6ccf41005253901",
        "version": 3,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "sensor.ble_temperature_bed_room",
        "entityidfiltertype": "exact",
        "outputinitially": false,
        "state_type": "str",
        "haltifstate": "72",
        "halt_if_type": "num",
        "halt_if_compare": "gte",
        "outputs": 2,
        "output_only_on_state_change": true,
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 120,
        "y": 160,
        "wires": [
            [
                "a6f1936fb8542b39"
            ],
            [
                "65167bd1ee043b5b"
            ]
        ]
    },
    {
        "id": "a6f1936fb8542b39",
        "type": "api-call-service",
        "z": "04cb334222380c1b",
        "name": "Turn off thermostat",
        "server": "d6ccf41005253901",
        "version": 3,
        "debugenabled": false,
        "service_domain": "climate",
        "service": "turn_off",
        "entityId": "climate.living_room",
        "data": "",
        "dataType": "jsonata",
        "mergecontext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 350,
        "y": 120,
        "wires": [
            []
        ]
    },
    {
        "id": "1bd1d641a5ae5252",
        "type": "api-call-service",
        "z": "04cb334222380c1b",
        "name": "Turn heat on",
        "server": "d6ccf41005253901",
        "version": 3,
        "debugenabled": true,
        "service_domain": "climate",
        "service": "set_hvac_mode",
        "entityId": "climate.living_room",
        "data": "{\"hvac_mode\":\"heat\"}",
        "dataType": "jsonata",
        "mergecontext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 710,
        "y": 200,
        "wires": [
            [
                "e0d64240cbb95183"
            ]
        ]
    },
    {
        "id": "e0d64240cbb95183",
        "type": "api-call-service",
        "z": "04cb334222380c1b",
        "name": "Set temp to 69",
        "server": "d6ccf41005253901",
        "version": 3,
        "debugenabled": false,
        "service_domain": "climate",
        "service": "set_temperature",
        "entityId": "climate.living_room",
        "data": "{\"temperature\":\"69\"}",
        "dataType": "jsonata",
        "mergecontext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 900,
        "y": 200,
        "wires": [
            []
        ]
    },
    {
        "id": "65167bd1ee043b5b",
        "type": "api-current-state",
        "z": "04cb334222380c1b",
        "name": "Weather",
        "server": "d6ccf41005253901",
        "version": 2,
        "outputs": 1,
        "halt_if": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "weather.home",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 320,
        "y": 200,
        "wires": [
            [
                "36964f3e79d8f9b0"
            ]
        ]
    },
    {
        "id": "36964f3e79d8f9b0",
        "type": "switch",
        "z": "04cb334222380c1b",
        "name": "Temp less than 50",
        "property": "data.attributes.temperature",
        "propertyType": "msg",
        "rules": [
            {
                "t": "lt",
                "v": "50",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 510,
        "y": 200,
        "wires": [
            [
                "1bd1d641a5ae5252"
            ]
        ]
    },
    {
        "id": "fea9baa7e602d744",
        "type": "api-current-state",
        "z": "7a50c5242f5febf8",
        "name": "Is lights on?",
        "server": "d6ccf41005253901",
        "version": 2,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "light.kitchen_lights_group",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 310,
        "y": 280,
        "wires": [
            [],
            [
                "63faadd18f0b3337"
            ]
        ]
    },
    {
        "id": "545f254f96f3c8b4",
        "type": "api-current-state",
        "z": "7a50c5242f5febf8",
        "name": "Is lights on?",
        "server": "d6ccf41005253901",
        "version": 2,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "light.kitchen_lights_group",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 310,
        "y": 360,
        "wires": [
            [
                "9422c6123ac04f1c"
            ],
            []
        ]
    },
    {
        "id": "0c213032fc9328e6",
        "type": "api-call-service",
        "z": "7a50c5242f5febf8",
        "name": "Kitchen Lights Off",
        "server": "d6ccf41005253901",
        "version": 3,
        "debugenabled": false,
        "service_domain": "light",
        "service": "turn_off",
        "entityId": "light.kitchen_lights_group",
        "data": "",
        "dataType": "jsonata",
        "mergecontext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 790,
        "y": 360,
        "wires": [
            []
        ]
    },
    {
        "id": "63faadd18f0b3337",
        "type": "api-call-service",
        "z": "7a50c5242f5febf8",
        "name": "Kitchen Lights On",
        "server": "d6ccf41005253901",
        "version": 3,
        "debugenabled": false,
        "service_domain": "light",
        "service": "turn_on",
        "entityId": "light.kitchen_lights_group",
        "data": "",
        "dataType": "jsonata",
        "mergecontext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 510,
        "y": 280,
        "wires": [
            []
        ]
    },
    {
        "id": "d2eae75727d9c9e4",
        "type": "server-state-changed",
        "z": "7a50c5242f5febf8",
        "name": "Kitchen Occupancy",
        "server": "d6ccf41005253901",
        "version": 3,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "binary_sensor.kitchenmotionsensor_occupancy",
        "entityidfiltertype": "exact",
        "outputinitially": false,
        "state_type": "str",
        "haltifstate": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "outputs": 2,
        "output_only_on_state_change": true,
        "for": 0,
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 110,
        "y": 320,
        "wires": [
            [
                "fea9baa7e602d744"
            ],
            [
                "545f254f96f3c8b4"
            ]
        ]
    },
    {
        "id": "9422c6123ac04f1c",
        "type": "delay",
        "z": "7a50c5242f5febf8",
        "name": "",
        "pauseType": "delay",
        "timeout": "2",
        "timeoutUnits": "minutes",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 460,
        "y": 420,
        "wires": [
            [
                "7955afe07ad2083c"
            ]
        ]
    },
    {
        "id": "7955afe07ad2083c",
        "type": "api-current-state",
        "z": "7a50c5242f5febf8",
        "name": "Is occupied?",
        "server": "d6ccf41005253901",
        "version": 2,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "binary_sensor.kitchenmotionsensor_occupancy",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 590,
        "y": 360,
        "wires": [
            [],
            [
                "0c213032fc9328e6"
            ]
        ]
    },
    {
        "id": "dba4d0f67923a764",
        "type": "server-state-changed",
        "z": "7a50c5242f5febf8",
        "name": "Occupancy Off for 5min",
        "server": "d6ccf41005253901",
        "version": 3,
        "exposeToHomeAssistant": false,
        "haConfig": [
            {
                "property": "name",
                "value": ""
            },
            {
                "property": "icon",
                "value": ""
            }
        ],
        "entityidfilter": "binary_sensor.kitchenmotionsensor_occupancy",
        "entityidfiltertype": "exact",
        "outputinitially": false,
        "state_type": "str",
        "haltifstate": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "outputs": 2,
        "output_only_on_state_change": true,
        "for": "5",
        "forType": "num",
        "forUnits": "minutes",
        "ignorePrevStateNull": false,
        "ignorePrevStateUnknown": false,
        "ignorePrevStateUnavailable": false,
        "ignoreCurrentStateUnknown": false,
        "ignoreCurrentStateUnavailable": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "eventData"
            },
            {
                "property": "topic",
                "propertyType": "msg",
                "value": "",
                "valueType": "triggerId"
            }
        ],
        "x": 120,
        "y": 180,
        "wires": [
            [
                "8fb8f9a54beda089"
            ],
            []
        ]
    },
    {
        "id": "9dade59e99620c4d",
        "type": "api-call-service",
        "z": "7a50c5242f5febf8",
        "name": "Kitchen Lights Off",
        "server": "d6ccf41005253901",
        "version": 3,
        "debugenabled": false,
        "service_domain": "light",
        "service": "turn_off",
        "entityId": "light.kitchen_lights_group",
        "data": "",
        "dataType": "jsonata",
        "mergecontext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 530,
        "y": 180,
        "wires": [
            []
        ]
    },
    {
        "id": "8fb8f9a54beda089",
        "type": "api-current-state",
        "z": "7a50c5242f5febf8",
        "name": "Is lights on?",
        "server": "d6ccf41005253901",
        "version": 2,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "light.kitchen_lights_group",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 330,
        "y": 180,
        "wires": [
            [
                "9dade59e99620c4d"
            ],
            []
        ]
    },
    {
        "id": "10be19cfbc428751",
        "type": "inject",
        "z": "774d9f8888f0a1fd",
        "name": "Everyday at 7AM",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "00 07 * * 1,2,3,4,5",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 130,
        "y": 300,
        "wires": [
            [
                "d38157b79186dae5"
            ]
        ]
    },
    {
        "id": "a3e3c13a572af51e",
        "type": "api-call-service",
        "z": "774d9f8888f0a1fd",
        "name": "Office purifier on",
        "server": "d6ccf41005253901",
        "version": 3,
        "debugenabled": false,
        "service_domain": "switch",
        "service": "turn_on",
        "entityId": "switch.office_purifier",
        "data": "",
        "dataType": "jsonata",
        "mergecontext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 590,
        "y": 360,
        "wires": [
            []
        ]
    },
    {
        "id": "e4f7cbee19046f8d",
        "type": "inject",
        "z": "774d9f8888f0a1fd",
        "name": "Everyday at 5PM",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "00 17 * * 1,2,3,4,5",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 130,
        "y": 500,
        "wires": [
            [
                "a665687dd30e29f0",
                "152e4339dc57d319"
            ]
        ]
    },
    {
        "id": "2f11f564708ba5ff",
        "type": "api-call-service",
        "z": "774d9f8888f0a1fd",
        "name": "Office purifier off",
        "server": "d6ccf41005253901",
        "version": 3,
        "debugenabled": false,
        "service_domain": "switch",
        "service": "turn_off",
        "entityId": "switch.office_purifier",
        "data": "",
        "dataType": "jsonata",
        "mergecontext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 580,
        "y": 500,
        "wires": [
            []
        ]
    },
    {
        "id": "a665687dd30e29f0",
        "type": "api-current-state",
        "z": "774d9f8888f0a1fd",
        "name": "On vacation?",
        "server": "d6ccf41005253901",
        "version": 2,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.on_vacation",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 350,
        "y": 500,
        "wires": [
            [],
            [
                "2f11f564708ba5ff"
            ]
        ]
    },
    {
        "id": "d38157b79186dae5",
        "type": "api-current-state",
        "z": "774d9f8888f0a1fd",
        "name": "On vacation?",
        "server": "d6ccf41005253901",
        "version": 2,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.on_vacation",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 350,
        "y": 300,
        "wires": [
            [],
            [
                "a3e3c13a572af51e",
                "e41aa1c9bfea5b23",
                "415ea913941c048d"
            ]
        ]
    },
    {
        "id": "152e4339dc57d319",
        "type": "api-call-service",
        "z": "774d9f8888f0a1fd",
        "name": "Close living room curtain ",
        "server": "d6ccf41005253901",
        "version": 3,
        "debugenabled": false,
        "service_domain": "cover",
        "service": "close_cover",
        "entityId": "cover.curtain_living_room",
        "data": "",
        "dataType": "jsonata",
        "mergecontext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 390,
        "y": 560,
        "wires": [
            [
                "329c6d62aa5392e9"
            ]
        ]
    },
    {
        "id": "329c6d62aa5392e9",
        "type": "delay",
        "z": "774d9f8888f0a1fd",
        "name": "",
        "pauseType": "delay",
        "timeout": "10",
        "timeoutUnits": "minutes",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 630,
        "y": 560,
        "wires": [
            [
                "6cbcb840c0be08c1"
            ]
        ]
    },
    {
        "id": "6cbcb840c0be08c1",
        "type": "api-call-service",
        "z": "774d9f8888f0a1fd",
        "name": "Close living room curtain  ",
        "server": "d6ccf41005253901",
        "version": 3,
        "debugenabled": false,
        "service_domain": "cover",
        "service": "close_cover",
        "entityId": "cover.curtain_living_room",
        "data": "",
        "dataType": "jsonata",
        "mergecontext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 870,
        "y": 560,
        "wires": [
            []
        ]
    },
    {
        "id": "0c75ca1c0f1f23a4",
        "type": "inject",
        "z": "774d9f8888f0a1fd",
        "name": "Everyday at 6AM",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "00 06 * * *",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 130,
        "y": 140,
        "wires": [
            [
                "65fec3523d454636"
            ]
        ]
    },
    {
        "id": "65fec3523d454636",
        "type": "api-call-service",
        "z": "774d9f8888f0a1fd",
        "name": "Open curtains",
        "server": "d6ccf41005253901",
        "version": 3,
        "debugenabled": false,
        "service_domain": "cover",
        "service": "open_cover",
        "entityId": "cover.curtain_living_room",
        "data": "",
        "dataType": "jsonata",
        "mergecontext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 360,
        "y": 140,
        "wires": [
            [
                "ba32c32434d9f5ad"
            ]
        ]
    },
    {
        "id": "ba32c32434d9f5ad",
        "type": "delay",
        "z": "774d9f8888f0a1fd",
        "name": "",
        "pauseType": "delay",
        "timeout": "10",
        "timeoutUnits": "minutes",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 550,
        "y": 140,
        "wires": [
            [
                "fcfa62759d7e4306"
            ]
        ]
    },
    {
        "id": "fcfa62759d7e4306",
        "type": "api-call-service",
        "z": "774d9f8888f0a1fd",
        "name": "Open curtains",
        "server": "d6ccf41005253901",
        "version": 3,
        "debugenabled": false,
        "service_domain": "cover",
        "service": "open_cover",
        "entityId": "cover.curtain_living_room",
        "data": "",
        "dataType": "jsonata",
        "mergecontext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 740,
        "y": 140,
        "wires": [
            []
        ]
    },
    {
        "id": "701083c51e20001b",
        "type": "inject",
        "z": "774d9f8888f0a1fd",
        "name": "Everyday at 4AM",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "00 04 * * *",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 130,
        "y": 80,
        "wires": [
            [
                "6f308726fe75825d",
                "bb8d7bd7e79c0114"
            ]
        ]
    },
    {
        "id": "6adbc6a1e13b2304",
        "type": "api-call-service",
        "z": "774d9f8888f0a1fd",
        "name": "Turn heat on",
        "server": "d6ccf41005253901",
        "version": 3,
        "debugenabled": true,
        "service_domain": "climate",
        "service": "set_hvac_mode",
        "entityId": "climate.living_room",
        "data": "{\"hvac_mode\":\"heat\"}",
        "dataType": "jsonata",
        "mergecontext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 710,
        "y": 80,
        "wires": [
            [
                "2ce873457a857ecc"
            ]
        ]
    },
    {
        "id": "2ce873457a857ecc",
        "type": "api-call-service",
        "z": "774d9f8888f0a1fd",
        "name": "Set temp to 69",
        "server": "d6ccf41005253901",
        "version": 3,
        "debugenabled": false,
        "service_domain": "climate",
        "service": "set_temperature",
        "entityId": "climate.living_room",
        "data": "{\"temperature\":\"69\"}",
        "dataType": "jsonata",
        "mergecontext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 900,
        "y": 80,
        "wires": [
            []
        ]
    },
    {
        "id": "6f308726fe75825d",
        "type": "api-current-state",
        "z": "774d9f8888f0a1fd",
        "name": "Weather",
        "server": "d6ccf41005253901",
        "version": 2,
        "outputs": 1,
        "halt_if": "",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "weather.home",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 340,
        "y": 80,
        "wires": [
            [
                "4852648478c5abb2"
            ]
        ]
    },
    {
        "id": "4852648478c5abb2",
        "type": "switch",
        "z": "774d9f8888f0a1fd",
        "name": "Temp less than 50",
        "property": "data.attributes.temperature",
        "propertyType": "msg",
        "rules": [
            {
                "t": "lt",
                "v": "50",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 530,
        "y": 80,
        "wires": [
            [
                "6adbc6a1e13b2304"
            ]
        ]
    },
    {
        "id": "bb8d7bd7e79c0114",
        "type": "api-call-service",
        "z": "774d9f8888f0a1fd",
        "name": "Turn on circadian lighting",
        "server": "d6ccf41005253901",
        "version": 3,
        "debugenabled": false,
        "service_domain": "switch",
        "service": "turn_on",
        "entityId": "switch.circadian_lighting_circadian_lighting_living_room, switch.circadian_lighting_circadian_lighting_kitchen",
        "data": "",
        "dataType": "jsonata",
        "mergecontext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 390,
        "y": 20,
        "wires": [
            []
        ]
    },
    {
        "id": "57e74c644249304b",
        "type": "inject",
        "z": "774d9f8888f0a1fd",
        "name": "Everyday at 6PM",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "00 18 * * *",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 130,
        "y": 660,
        "wires": [
            [
                "7dbe1074a28359cd",
                "898fbe12d36d1d27",
                "d0e5bae1fc1b467d"
            ]
        ]
    },
    {
        "id": "7dbe1074a28359cd",
        "type": "api-current-state",
        "z": "774d9f8888f0a1fd",
        "name": "TV On?",
        "server": "d6ccf41005253901",
        "version": 2,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is_not",
        "entity_id": "media_player.sony_bravia_tv",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 340,
        "y": 680,
        "wires": [
            [
                "a237ccee8def548f"
            ],
            []
        ]
    },
    {
        "id": "6974d4ac5b2a6052",
        "type": "api-call-service",
        "z": "774d9f8888f0a1fd",
        "name": "Turn off thermostat",
        "server": "d6ccf41005253901",
        "version": 3,
        "debugenabled": false,
        "service_domain": "climate",
        "service": "turn_off",
        "entityId": "climate.living_room",
        "data": "",
        "dataType": "jsonata",
        "mergecontext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 590,
        "y": 620,
        "wires": [
            []
        ]
    },
    {
        "id": "898fbe12d36d1d27",
        "type": "api-current-state",
        "z": "774d9f8888f0a1fd",
        "name": "Is thermostat on?",
        "server": "d6ccf41005253901",
        "version": 2,
        "outputs": 2,
        "halt_if": "off",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "climate.living_room",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 370,
        "y": 620,
        "wires": [
            [],
            [
                "6974d4ac5b2a6052",
                "6974d4ac5b2a6052"
            ]
        ]
    },
    {
        "id": "a237ccee8def548f",
        "type": "api-call-service",
        "z": "774d9f8888f0a1fd",
        "name": "Led Lights On",
        "server": "d6ccf41005253901",
        "version": 3,
        "debugenabled": false,
        "service_domain": "light",
        "service": "turn_on",
        "entityId": "light.tv_h6199",
        "data": "",
        "dataType": "jsonata",
        "mergecontext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 540,
        "y": 680,
        "wires": [
            []
        ]
    },
    {
        "id": "82a9ee7667b95059",
        "type": "inject",
        "z": "774d9f8888f0a1fd",
        "name": "Wed, Fri at 6:30AM",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "30 06 * * 3,5",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payloadType": "date",
        "x": 140,
        "y": 200,
        "wires": [
            [
                "59b0e55856101e46"
            ]
        ]
    },
    {
        "id": "59b0e55856101e46",
        "type": "api-call-service",
        "z": "774d9f8888f0a1fd",
        "name": "Livingroom vacuum on",
        "server": "d6ccf41005253901",
        "version": 3,
        "debugenabled": false,
        "service_domain": "vacuum",
        "service": "turn_on",
        "entityId": "vacuum.robovac",
        "data": "",
        "dataType": "jsonata",
        "mergecontext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 400,
        "y": 200,
        "wires": [
            []
        ]
    },
    {
        "id": "415ea913941c048d",
        "type": "api-call-service",
        "z": "774d9f8888f0a1fd",
        "name": "Bedroom purifier off",
        "server": "d6ccf41005253901",
        "version": 3,
        "debugenabled": false,
        "service_domain": "switch",
        "service": "turn_off",
        "entityId": "switch.bedroom_purifier",
        "data": "",
        "dataType": "jsonata",
        "mergecontext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 600,
        "y": 240,
        "wires": [
            []
        ]
    },
    {
        "id": "e41aa1c9bfea5b23",
        "type": "api-call-service",
        "z": "774d9f8888f0a1fd",
        "name": "Open bedroom curtains and blinds",
        "server": "d6ccf41005253901",
        "version": 3,
        "debugenabled": false,
        "service_domain": "cover",
        "service": "open_cover",
        "entityId": "cover.bedroom_blinds, cover.bedroom_curtain_4",
        "data": "",
        "dataType": "jsonata",
        "mergecontext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 640,
        "y": 300,
        "wires": [
            [
                "8109396eeb98d5df"
            ]
        ]
    },
    {
        "id": "fd500e47d3758743",
        "type": "api-call-service",
        "z": "774d9f8888f0a1fd",
        "name": "Open bedroom curtains",
        "server": "d6ccf41005253901",
        "version": 3,
        "debugenabled": false,
        "service_domain": "cover",
        "service": "open_cover",
        "entityId": "cover.bedroom_curtain_4",
        "data": "",
        "dataType": "jsonata",
        "mergecontext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1110,
        "y": 300,
        "wires": [
            []
        ]
    },
    {
        "id": "8109396eeb98d5df",
        "type": "delay",
        "z": "774d9f8888f0a1fd",
        "name": "",
        "pauseType": "delay",
        "timeout": "10",
        "timeoutUnits": "minutes",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 890,
        "y": 300,
        "wires": [
            [
                "fd500e47d3758743"
            ]
        ]
    },
    {
        "id": "d0e5bae1fc1b467d",
        "type": "api-current-state",
        "z": "774d9f8888f0a1fd",
        "name": "On vacation?",
        "server": "d6ccf41005253901",
        "version": 2,
        "outputs": 2,
        "halt_if": "on",
        "halt_if_type": "str",
        "halt_if_compare": "is",
        "entity_id": "input_boolean.on_vacation",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 350,
        "y": 800,
        "wires": [
            [],
            [
                "e4ff6020183cf857",
                "d3261716e51998a8",
                "b8bdd117c2918021"
            ]
        ]
    },
    {
        "id": "e4ff6020183cf857",
        "type": "api-call-service",
        "z": "774d9f8888f0a1fd",
        "name": "Bedroom purifier on",
        "server": "d6ccf41005253901",
        "version": 3,
        "debugenabled": false,
        "service_domain": "switch",
        "service": "turn_on",
        "entityId": "switch.bedroom_purifier",
        "data": "",
        "dataType": "jsonata",
        "mergecontext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 560,
        "y": 740,
        "wires": [
            []
        ]
    },
    {
        "id": "d3261716e51998a8",
        "type": "api-call-service",
        "z": "774d9f8888f0a1fd",
        "name": "Close bedroom curtains and blinds",
        "server": "d6ccf41005253901",
        "version": 3,
        "debugenabled": false,
        "service_domain": "cover",
        "service": "close_cover",
        "entityId": "cover.bedroom_blinds, cover.bedroom_curtain_4",
        "data": "",
        "dataType": "jsonata",
        "mergecontext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 600,
        "y": 800,
        "wires": [
            [
                "33fc4442c0187ee9",
                "33fc4442c0187ee9"
            ]
        ]
    },
    {
        "id": "a872c610d835c2fa",
        "type": "api-call-service",
        "z": "774d9f8888f0a1fd",
        "name": "Notify",
        "server": "d6ccf41005253901",
        "version": 3,
        "debugenabled": false,
        "service_domain": "notify",
        "service": "mobile_app_sm_vpogu",
        "entityId": "",
        "data": "",
        "dataType": "jsonata",
        "mergecontext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 830,
        "y": 860,
        "wires": [
            []
        ]
    },
    {
        "id": "b8bdd117c2918021",
        "type": "api-current-state",
        "z": "774d9f8888f0a1fd",
        "name": "Blinds battery less than 10%",
        "server": "d6ccf41005253901",
        "version": 2,
        "outputs": 2,
        "halt_if": "10",
        "halt_if_type": "num",
        "halt_if_compare": "lte",
        "entity_id": "sensor.bedroom_blinds_battery_level",
        "state_type": "str",
        "blockInputOverrides": false,
        "outputProperties": [
            {
                "property": "payload",
                "propertyType": "msg",
                "value": "",
                "valueType": "entityState"
            },
            {
                "property": "data",
                "propertyType": "msg",
                "value": "",
                "valueType": "entity"
            }
        ],
        "override_topic": false,
        "state_location": "payload",
        "override_payload": "msg",
        "entity_location": "data",
        "override_data": "msg",
        "x": 580,
        "y": 860,
        "wires": [
            [
                "a872c610d835c2fa",
                "a872c610d835c2fa"
            ],
            []
        ]
    },
    {
        "id": "6537ffe68e4a3549",
        "type": "api-call-service",
        "z": "774d9f8888f0a1fd",
        "name": "Close bedroom curtains",
        "server": "d6ccf41005253901",
        "version": 3,
        "debugenabled": false,
        "service_domain": "cover",
        "service": "close_cover",
        "entityId": "cover.bedroom_curtain_4",
        "data": "",
        "dataType": "jsonata",
        "mergecontext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 1050,
        "y": 800,
        "wires": [
            []
        ]
    },
    {
        "id": "33fc4442c0187ee9",
        "type": "delay",
        "z": "774d9f8888f0a1fd",
        "name": "",
        "pauseType": "delay",
        "timeout": "10",
        "timeoutUnits": "minutes",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 850,
        "y": 800,
        "wires": [
            [
                "6537ffe68e4a3549",
                "6537ffe68e4a3549"
            ]
        ]
    },
    {
        "id": "3325327b982fcd59",
        "type": "inject",
        "z": "774d9f8888f0a1fd",
        "name": "Everyday at 8PM",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "00 20 * * *",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 130,
        "y": 960,
        "wires": [
            [
                "c46b3711d182c9fd"
            ]
        ]
    },
    {
        "id": "c46b3711d182c9fd",
        "type": "api-call-service",
        "z": "774d9f8888f0a1fd",
        "name": "Turn off circadian lighting",
        "server": "d6ccf41005253901",
        "version": 3,
        "debugenabled": false,
        "service_domain": "switch",
        "service": "turn_off",
        "entityId": "switch.circadian_lighting_circadian_lighting_living_room, switch.circadian_lighting_circadian_lighting_kitchen",
        "data": "",
        "dataType": "jsonata",
        "mergecontext": "",
        "mustacheAltTags": false,
        "outputProperties": [],
        "queue": "none",
        "x": 390,
        "y": 960,
        "wires": [
            []
        ]
    }
]